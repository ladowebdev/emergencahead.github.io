(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var yu={exports:{}},qs={},wu={exports:{}},R={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=Symbol.for("react.element"),rf=Symbol.for("react.portal"),sf=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),lf=Symbol.for("react.profiler"),af=Symbol.for("react.provider"),uf=Symbol.for("react.context"),cf=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),ff=Symbol.for("react.memo"),hf=Symbol.for("react.lazy"),Jl=Symbol.iterator;function pf(e){return e===null||typeof e!="object"?null:(e=Jl&&e[Jl]||e["@@iterator"],typeof e=="function"?e:null)}var _u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xu=Object.assign,ku={};function $n(e,t,n){this.props=e,this.context=t,this.refs=ku,this.updater=n||_u}$n.prototype.isReactComponent={};$n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Su(){}Su.prototype=$n.prototype;function Go(e,t,n){this.props=e,this.context=t,this.refs=ku,this.updater=n||_u}var Jo=Go.prototype=new Su;Jo.constructor=Go;xu(Jo,$n.prototype);Jo.isPureReactComponent=!0;var Yl=Array.isArray,Eu=Object.prototype.hasOwnProperty,Yo={current:null},ju={key:!0,ref:!0,__self:!0,__source:!0};function Cu(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Eu.call(t,r)&&!ju.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Or,type:e,key:i,ref:o,props:s,_owner:Yo.current}}function mf(e,t){return{$$typeof:Or,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Or}function gf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xl=/\/+/g;function vi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gf(""+e.key):t.toString(36)}function ls(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Or:case rf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+vi(o,0):r,Yl(s)?(n="",e!=null&&(n=e.replace(Xl,"$&/")+"/"),ls(s,t,n,"",function(u){return u})):s!=null&&(Xo(s)&&(s=mf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Yl(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+vi(i,l);o+=ls(i,t,n,a,s)}else if(a=pf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+vi(i,l++),o+=ls(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mr(e,t,n){if(e==null)return e;var r=[],s=0;return ls(e,r,"","",function(i){return t.call(n,i,s++)}),r}function vf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var he={current:null},as={transition:null},yf={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:as,ReactCurrentOwner:Yo};function Nu(){throw Error("act(...) is not supported in production builds of React.")}R.Children={map:Mr,forEach:function(e,t,n){Mr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mr(e,function(){t++}),t},toArray:function(e){return Mr(e,function(t){return t})||[]},only:function(e){if(!Xo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};R.Component=$n;R.Fragment=sf;R.Profiler=lf;R.PureComponent=Go;R.StrictMode=of;R.Suspense=df;R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yf;R.act=Nu;R.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Yo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Eu.call(t,a)&&!ju.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Or,type:e.type,key:s,ref:i,props:r,_owner:o}};R.createContext=function(e){return e={$$typeof:uf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:af,_context:e},e.Consumer=e};R.createElement=Cu;R.createFactory=function(e){var t=Cu.bind(null,e);return t.type=e,t};R.createRef=function(){return{current:null}};R.forwardRef=function(e){return{$$typeof:cf,render:e}};R.isValidElement=Xo;R.lazy=function(e){return{$$typeof:hf,_payload:{_status:-1,_result:e},_init:vf}};R.memo=function(e,t){return{$$typeof:ff,type:e,compare:t===void 0?null:t}};R.startTransition=function(e){var t=as.transition;as.transition={};try{e()}finally{as.transition=t}};R.unstable_act=Nu;R.useCallback=function(e,t){return he.current.useCallback(e,t)};R.useContext=function(e){return he.current.useContext(e)};R.useDebugValue=function(){};R.useDeferredValue=function(e){return he.current.useDeferredValue(e)};R.useEffect=function(e,t){return he.current.useEffect(e,t)};R.useId=function(){return he.current.useId()};R.useImperativeHandle=function(e,t,n){return he.current.useImperativeHandle(e,t,n)};R.useInsertionEffect=function(e,t){return he.current.useInsertionEffect(e,t)};R.useLayoutEffect=function(e,t){return he.current.useLayoutEffect(e,t)};R.useMemo=function(e,t){return he.current.useMemo(e,t)};R.useReducer=function(e,t,n){return he.current.useReducer(e,t,n)};R.useRef=function(e){return he.current.useRef(e)};R.useState=function(e){return he.current.useState(e)};R.useSyncExternalStore=function(e,t,n){return he.current.useSyncExternalStore(e,t,n)};R.useTransition=function(){return he.current.useTransition()};R.version="18.3.1";wu.exports=R;var P=wu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=P,_f=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),kf=Object.prototype.hasOwnProperty,Sf=wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ef={key:!0,ref:!0,__self:!0,__source:!0};function Pu(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kf.call(t,r)&&!Ef.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_f,type:e,key:i,ref:o,props:s,_owner:Sf.current}}qs.Fragment=xf;qs.jsx=Pu;qs.jsxs=Pu;yu.exports=qs;var c=yu.exports,bu={exports:{}},Ne={},Tu={exports:{}},Ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,T){var A=j.length;j.push(T);e:for(;0<A;){var G=A-1>>>1,ee=j[G];if(0<s(ee,T))j[G]=T,j[A]=ee,A=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var T=j[0],A=j.pop();if(A!==T){j[0]=A;e:for(var G=0,ee=j.length,Ur=ee>>>1;G<Ur;){var Lt=2*(G+1)-1,gi=j[Lt],$t=Lt+1,zr=j[$t];if(0>s(gi,A))$t<ee&&0>s(zr,gi)?(j[G]=zr,j[$t]=A,G=$t):(j[G]=gi,j[Lt]=A,G=Lt);else if($t<ee&&0>s(zr,A))j[G]=zr,j[$t]=A,G=$t;else break e}}return T}function s(j,T){var A=j.sortIndex-T.sortIndex;return A!==0?A:j.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,h=3,g=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=j)r(u),T.sortIndex=T.expirationTime,t(a,T);else break;T=n(u)}}function _(j){if(y=!1,v(j),!w)if(n(a)!==null)w=!0,pi(S);else{var T=n(u);T!==null&&mi(_,T.startTime-j)}}function S(j,T){w=!1,y&&(y=!1,m(b),b=-1),g=!0;var A=h;try{for(v(T),f=n(a);f!==null&&(!(f.expirationTime>T)||j&&!De());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var ee=G(f.expirationTime<=T);T=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(a)&&r(a),v(T)}else r(a);f=n(a)}if(f!==null)var Ur=!0;else{var Lt=n(u);Lt!==null&&mi(_,Lt.startTime-T),Ur=!1}return Ur}finally{f=null,h=A,g=!1}}var C=!1,N=null,b=-1,Q=5,L=-1;function De(){return!(e.unstable_now()-L<Q)}function Mn(){if(N!==null){var j=e.unstable_now();L=j;var T=!0;try{T=N(!0,j)}finally{T?Fn():(C=!1,N=null)}}else C=!1}var Fn;if(typeof p=="function")Fn=function(){p(Mn)};else if(typeof MessageChannel<"u"){var Gl=new MessageChannel,tf=Gl.port2;Gl.port1.onmessage=Mn,Fn=function(){tf.postMessage(null)}}else Fn=function(){x(Mn,0)};function pi(j){N=j,C||(C=!0,Fn())}function mi(j,T){b=x(function(){j(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,pi(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var A=h;h=T;try{return j()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var A=h;h=j;try{return T()}finally{h=A}},e.unstable_scheduleCallback=function(j,T,A){var G=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?G+A:G):A=G,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=A+ee,j={id:d++,callback:T,priorityLevel:j,startTime:A,expirationTime:ee,sortIndex:-1},A>G?(j.sortIndex=A,t(u,j),n(a)===null&&j===n(u)&&(y?(m(b),b=-1):y=!0,mi(_,A-G))):(j.sortIndex=ee,t(a,j),w||g||(w=!0,pi(S))),j},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(j){var T=h;return function(){var A=h;h=T;try{return j.apply(this,arguments)}finally{h=A}}}})(Ou);Tu.exports=Ou;var jf=Tu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf=P,Ce=jf;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Au=new Set,hr={};function Yt(e,t){Cn(e,t),Cn(e+"Capture",t)}function Cn(e,t){for(hr[e]=t,e=0;e<t.length;e++)Au.add(t[e])}var st=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qi=Object.prototype.hasOwnProperty,Nf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zl={},ea={};function Pf(e){return Qi.call(ea,e)?!0:Qi.call(Zl,e)?!1:Nf.test(e)?ea[e]=!0:(Zl[e]=!0,!1)}function bf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tf(e,t,n,r){if(t===null||typeof t>"u"||bf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oe[e]=new pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oe[t]=new pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oe[e]=new pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oe[e]=new pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oe[e]=new pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oe[e]=new pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oe[e]=new pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oe[e]=new pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oe[e]=new pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zo=/[\-:]([a-z])/g;function el(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zo,el);oe[t]=new pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zo,el);oe[t]=new pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zo,el);oe[t]=new pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oe[e]=new pe(e,1,!1,e.toLowerCase(),null,!1,!1)});oe.xlinkHref=new pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oe[e]=new pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function tl(e,t,n,r){var s=oe.hasOwnProperty(t)?oe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tf(t,n,s,r)&&(n=null),r||s===null?Pf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var at=Cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fr=Symbol.for("react.element"),ln=Symbol.for("react.portal"),an=Symbol.for("react.fragment"),nl=Symbol.for("react.strict_mode"),Gi=Symbol.for("react.profiler"),Ru=Symbol.for("react.provider"),Lu=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),Ji=Symbol.for("react.suspense"),Yi=Symbol.for("react.suspense_list"),sl=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),$u=Symbol.for("react.offscreen"),ta=Symbol.iterator;function Bn(e){return e===null||typeof e!="object"?null:(e=ta&&e[ta]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,yi;function Yn(e){if(yi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yi=t&&t[1]||""}return`
`+yi+e}var wi=!1;function _i(e,t){if(!e||wi)return"";wi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{wi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yn(e):""}function Of(e){switch(e.tag){case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 2:case 15:return e=_i(e.type,!1),e;case 11:return e=_i(e.type.render,!1),e;case 1:return e=_i(e.type,!0),e;default:return""}}function Xi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case an:return"Fragment";case ln:return"Portal";case Gi:return"Profiler";case nl:return"StrictMode";case Ji:return"Suspense";case Yi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lu:return(e.displayName||"Context")+".Consumer";case Ru:return(e._context.displayName||"Context")+".Provider";case rl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sl:return t=e.displayName||null,t!==null?t:Xi(e.type)||"Memo";case ft:t=e._payload,e=e._init;try{return Xi(e(t))}catch{}}return null}function Af(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xi(t);case 8:return t===nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Iu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rf(e){var t=Iu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Br(e){e._valueTracker||(e._valueTracker=Rf(e))}function Du(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Iu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zi(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function na(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Uu(e,t){t=t.checked,t!=null&&tl(e,"checked",t,!1)}function eo(e,t){Uu(e,t);var n=Pt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?to(e,t.type,n):t.hasOwnProperty("defaultValue")&&to(e,t.type,Pt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ra(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function to(e,t,n){(t!=="number"||_s(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xn=Array.isArray;function wn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function no(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(Xn(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pt(n)}}function zu(e,t){var n=Pt(t.value),r=Pt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ia(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ro(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hr,Fu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lf=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(e){Lf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nr[t]=nr[e]})});function Bu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nr.hasOwnProperty(e)&&nr[e]?(""+t).trim():t+"px"}function Hu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Bu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $f=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if($f[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=null;function il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lo=null,_n=null,xn=null;function oa(e){if(e=Lr(e)){if(typeof lo!="function")throw Error(k(280));var t=e.stateNode;t&&(t=Js(t),lo(e.stateNode,e.type,t))}}function Vu(e){_n?xn?xn.push(e):xn=[e]:_n=e}function qu(){if(_n){var e=_n,t=xn;if(xn=_n=null,oa(e),t)for(e=0;e<t.length;e++)oa(t[e])}}function Wu(e,t){return e(t)}function Ku(){}var xi=!1;function Qu(e,t,n){if(xi)return e(t,n);xi=!0;try{return Wu(e,t,n)}finally{xi=!1,(_n!==null||xn!==null)&&(Ku(),qu())}}function mr(e,t){var n=e.stateNode;if(n===null)return null;var r=Js(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var ao=!1;if(st)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{ao=!1}function If(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var rr=!1,xs=null,ks=!1,uo=null,Df={onError:function(e){rr=!0,xs=e}};function Uf(e,t,n,r,s,i,o,l,a){rr=!1,xs=null,If.apply(Df,arguments)}function zf(e,t,n,r,s,i,o,l,a){if(Uf.apply(this,arguments),rr){if(rr){var u=xs;rr=!1,xs=null}else throw Error(k(198));ks||(ks=!0,uo=u)}}function Xt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function la(e){if(Xt(e)!==e)throw Error(k(188))}function Mf(e){var t=e.alternate;if(!t){if(t=Xt(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return la(s),e;if(i===r)return la(s),t;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function Ju(e){return e=Mf(e),e!==null?Yu(e):null}function Yu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yu(e);if(t!==null)return t;e=e.sibling}return null}var Xu=Ce.unstable_scheduleCallback,aa=Ce.unstable_cancelCallback,Ff=Ce.unstable_shouldYield,Bf=Ce.unstable_requestPaint,J=Ce.unstable_now,Hf=Ce.unstable_getCurrentPriorityLevel,ol=Ce.unstable_ImmediatePriority,Zu=Ce.unstable_UserBlockingPriority,Ss=Ce.unstable_NormalPriority,Vf=Ce.unstable_LowPriority,ec=Ce.unstable_IdlePriority,Ws=null,Je=null;function qf(e){if(Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Ws,e,void 0,(e.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:Qf,Wf=Math.log,Kf=Math.LN2;function Qf(e){return e>>>=0,e===0?32:31-(Wf(e)/Kf|0)|0}var Vr=64,qr=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zn(l):(i&=o,i!==0&&(r=Zn(i)))}else o=n&~s,o!==0?r=Zn(o):i!==0&&(r=Zn(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-He(t),s=1<<n,r|=e[n],t&=~s;return r}function Gf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-He(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Gf(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function co(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tc(){var e=Vr;return Vr<<=1,!(Vr&4194240)&&(Vr=64),e}function ki(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ar(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-He(t),e[t]=n}function Yf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-He(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ll(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-He(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var U=0;function nc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rc,al,sc,ic,oc,fo=!1,Wr=[],_t=null,xt=null,kt=null,gr=new Map,vr=new Map,mt=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ua(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(t.pointerId)}}function Vn(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Lr(t),t!==null&&al(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zf(e,t,n,r,s){switch(t){case"focusin":return _t=Vn(_t,e,t,n,r,s),!0;case"dragenter":return xt=Vn(xt,e,t,n,r,s),!0;case"mouseover":return kt=Vn(kt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return gr.set(i,Vn(gr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vr.set(i,Vn(vr.get(i)||null,e,t,n,r,s)),!0}return!1}function lc(e){var t=Ft(e.target);if(t!==null){var n=Xt(t);if(n!==null){if(t=n.tag,t===13){if(t=Gu(n),t!==null){e.blockedOn=t,oc(e.priority,function(){sc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ho(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);oo=r,n.target.dispatchEvent(r),oo=null}else return t=Lr(n),t!==null&&al(t),e.blockedOn=n,!1;t.shift()}return!0}function ca(e,t,n){us(e)&&n.delete(t)}function eh(){fo=!1,_t!==null&&us(_t)&&(_t=null),xt!==null&&us(xt)&&(xt=null),kt!==null&&us(kt)&&(kt=null),gr.forEach(ca),vr.forEach(ca)}function qn(e,t){e.blockedOn===t&&(e.blockedOn=null,fo||(fo=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,eh)))}function yr(e){function t(s){return qn(s,e)}if(0<Wr.length){qn(Wr[0],e);for(var n=1;n<Wr.length;n++){var r=Wr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_t!==null&&qn(_t,e),xt!==null&&qn(xt,e),kt!==null&&qn(kt,e),gr.forEach(t),vr.forEach(t),n=0;n<mt.length;n++)r=mt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mt.length&&(n=mt[0],n.blockedOn===null);)lc(n),n.blockedOn===null&&mt.shift()}var kn=at.ReactCurrentBatchConfig,js=!0;function th(e,t,n,r){var s=U,i=kn.transition;kn.transition=null;try{U=1,ul(e,t,n,r)}finally{U=s,kn.transition=i}}function nh(e,t,n,r){var s=U,i=kn.transition;kn.transition=null;try{U=4,ul(e,t,n,r)}finally{U=s,kn.transition=i}}function ul(e,t,n,r){if(js){var s=ho(e,t,n,r);if(s===null)Ai(e,t,r,Cs,n),ua(e,r);else if(Zf(s,e,t,n,r))r.stopPropagation();else if(ua(e,r),t&4&&-1<Xf.indexOf(e)){for(;s!==null;){var i=Lr(s);if(i!==null&&rc(i),i=ho(e,t,n,r),i===null&&Ai(e,t,r,Cs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ai(e,t,r,null,n)}}var Cs=null;function ho(e,t,n,r){if(Cs=null,e=il(r),e=Ft(e),e!==null)if(t=Xt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cs=e,null}function ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hf()){case ol:return 1;case Zu:return 4;case Ss:case Vf:return 16;case ec:return 536870912;default:return 16}default:return 16}}var yt=null,cl=null,cs=null;function uc(){if(cs)return cs;var e,t=cl,n=t.length,r,s="value"in yt?yt.value:yt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return cs=s.slice(e,1<r?1-r:void 0)}function ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function da(){return!1}function Pe(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kr:da,this.isPropagationStopped=da,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=Pe(In),Rr=W({},In,{view:0,detail:0}),rh=Pe(Rr),Si,Ei,Wn,Ks=W({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Si=e.screenX-Wn.screenX,Ei=e.screenY-Wn.screenY):Ei=Si=0,Wn=e),Si)},movementY:function(e){return"movementY"in e?e.movementY:Ei}}),fa=Pe(Ks),sh=W({},Ks,{dataTransfer:0}),ih=Pe(sh),oh=W({},Rr,{relatedTarget:0}),ji=Pe(oh),lh=W({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=Pe(lh),uh=W({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ch=Pe(uh),dh=W({},In,{data:0}),ha=Pe(dh),fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ph[e])?!!t[e]:!1}function fl(){return mh}var gh=W({},Rr,{key:function(e){if(e.key){var t=fh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vh=Pe(gh),yh=W({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pa=Pe(yh),wh=W({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),_h=Pe(wh),xh=W({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=Pe(xh),Sh=W({},Ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Eh=Pe(Sh),jh=[9,13,27,32],hl=st&&"CompositionEvent"in window,sr=null;st&&"documentMode"in document&&(sr=document.documentMode);var Ch=st&&"TextEvent"in window&&!sr,cc=st&&(!hl||sr&&8<sr&&11>=sr),ma=" ",ga=!1;function dc(e,t){switch(e){case"keyup":return jh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var un=!1;function Nh(e,t){switch(e){case"compositionend":return fc(t);case"keypress":return t.which!==32?null:(ga=!0,ma);case"textInput":return e=t.data,e===ma&&ga?null:e;default:return null}}function Ph(e,t){if(un)return e==="compositionend"||!hl&&dc(e,t)?(e=uc(),cs=cl=yt=null,un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cc&&t.locale!=="ko"?null:t.data;default:return null}}var bh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bh[e.type]:t==="textarea"}function hc(e,t,n,r){Vu(r),t=Ns(t,"onChange"),0<t.length&&(n=new dl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ir=null,wr=null;function Th(e){Ec(e,0)}function Qs(e){var t=fn(e);if(Du(t))return e}function Oh(e,t){if(e==="change")return t}var pc=!1;if(st){var Ci;if(st){var Ni="oninput"in document;if(!Ni){var ya=document.createElement("div");ya.setAttribute("oninput","return;"),Ni=typeof ya.oninput=="function"}Ci=Ni}else Ci=!1;pc=Ci&&(!document.documentMode||9<document.documentMode)}function wa(){ir&&(ir.detachEvent("onpropertychange",mc),wr=ir=null)}function mc(e){if(e.propertyName==="value"&&Qs(wr)){var t=[];hc(t,wr,e,il(e)),Qu(Th,t)}}function Ah(e,t,n){e==="focusin"?(wa(),ir=t,wr=n,ir.attachEvent("onpropertychange",mc)):e==="focusout"&&wa()}function Rh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(wr)}function Lh(e,t){if(e==="click")return Qs(t)}function $h(e,t){if(e==="input"||e==="change")return Qs(t)}function Ih(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qe=typeof Object.is=="function"?Object.is:Ih;function _r(e,t){if(qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qi.call(t,s)||!qe(e[s],t[s]))return!1}return!0}function _a(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xa(e,t){var n=_a(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_a(n)}}function gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vc(){for(var e=window,t=_s();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_s(e.document)}return t}function pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dh(e){var t=vc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gc(n.ownerDocument.documentElement,n)){if(r!==null&&pl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=xa(n,i);var o=xa(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uh=st&&"documentMode"in document&&11>=document.documentMode,cn=null,po=null,or=null,mo=!1;function ka(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mo||cn==null||cn!==_s(r)||(r=cn,"selectionStart"in r&&pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),or&&_r(or,r)||(or=r,r=Ns(po,"onSelect"),0<r.length&&(t=new dl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cn)))}function Qr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dn={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionend:Qr("Transition","TransitionEnd")},Pi={},yc={};st&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function Gs(e){if(Pi[e])return Pi[e];if(!dn[e])return e;var t=dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yc)return Pi[e]=t[n];return e}var wc=Gs("animationend"),_c=Gs("animationiteration"),xc=Gs("animationstart"),kc=Gs("transitionend"),Sc=new Map,Sa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(e,t){Sc.set(e,t),Yt(t,[e])}for(var bi=0;bi<Sa.length;bi++){var Ti=Sa[bi],zh=Ti.toLowerCase(),Mh=Ti[0].toUpperCase()+Ti.slice(1);Ot(zh,"on"+Mh)}Ot(wc,"onAnimationEnd");Ot(_c,"onAnimationIteration");Ot(xc,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(kc,"onTransitionEnd");Cn("onMouseEnter",["mouseout","mouseover"]);Cn("onMouseLeave",["mouseout","mouseover"]);Cn("onPointerEnter",["pointerout","pointerover"]);Cn("onPointerLeave",["pointerout","pointerover"]);Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fh=new Set("cancel close invalid load scroll toggle".split(" ").concat(er));function Ea(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zf(r,t,void 0,e),e.currentTarget=null}function Ec(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ea(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ea(s,l,u),i=a}}}if(ks)throw e=uo,ks=!1,uo=null,e}function F(e,t){var n=t[_o];n===void 0&&(n=t[_o]=new Set);var r=e+"__bubble";n.has(r)||(jc(t,e,2,!1),n.add(r))}function Oi(e,t,n){var r=0;t&&(r|=4),jc(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function xr(e){if(!e[Gr]){e[Gr]=!0,Au.forEach(function(n){n!=="selectionchange"&&(Fh.has(n)||Oi(n,!1,e),Oi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,Oi("selectionchange",!1,t))}}function jc(e,t,n,r){switch(ac(t)){case 1:var s=th;break;case 4:s=nh;break;default:s=ul}n=s.bind(null,t,n,e),s=void 0,!ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ai(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ft(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Qu(function(){var u=i,d=il(n),f=[];e:{var h=Sc.get(e);if(h!==void 0){var g=dl,w=e;switch(e){case"keypress":if(ds(n)===0)break e;case"keydown":case"keyup":g=vh;break;case"focusin":w="focus",g=ji;break;case"focusout":w="blur",g=ji;break;case"beforeblur":case"afterblur":g=ji;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_h;break;case wc:case _c:case xc:g=ah;break;case kc:g=kh;break;case"scroll":g=rh;break;case"wheel":g=Eh;break;case"copy":case"cut":case"paste":g=ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pa}var y=(t&4)!==0,x=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,v;p!==null;){v=p;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=mr(p,m),_!=null&&y.push(kr(p,_,v)))),x)break;p=p.return}0<y.length&&(h=new g(h,w,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==oo&&(w=n.relatedTarget||n.fromElement)&&(Ft(w)||w[it]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?Ft(w):null,w!==null&&(x=Xt(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(y=fa,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=pa,_="onPointerLeave",m="onPointerEnter",p="pointer"),x=g==null?h:fn(g),v=w==null?h:fn(w),h=new y(_,p+"leave",g,n,d),h.target=x,h.relatedTarget=v,_=null,Ft(d)===u&&(y=new y(m,p+"enter",w,n,d),y.target=v,y.relatedTarget=x,_=y),x=_,g&&w)t:{for(y=g,m=w,p=0,v=y;v;v=tn(v))p++;for(v=0,_=m;_;_=tn(_))v++;for(;0<p-v;)y=tn(y),p--;for(;0<v-p;)m=tn(m),v--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=tn(y),m=tn(m)}y=null}else y=null;g!==null&&ja(f,h,g,y,!1),w!==null&&x!==null&&ja(f,x,w,y,!0)}}e:{if(h=u?fn(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=Oh;else if(va(h))if(pc)S=$h;else{S=Rh;var C=Ah}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Lh);if(S&&(S=S(e,u))){hc(f,S,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&to(h,"number",h.value)}switch(C=u?fn(u):window,e){case"focusin":(va(C)||C.contentEditable==="true")&&(cn=C,po=u,or=null);break;case"focusout":or=po=cn=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,ka(f,n,d);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":ka(f,n,d)}var N;if(hl)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else un?dc(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(cc&&n.locale!=="ko"&&(un||b!=="onCompositionStart"?b==="onCompositionEnd"&&un&&(N=uc()):(yt=d,cl="value"in yt?yt.value:yt.textContent,un=!0)),C=Ns(u,b),0<C.length&&(b=new ha(b,e,null,n,d),f.push({event:b,listeners:C}),N?b.data=N:(N=fc(n),N!==null&&(b.data=N)))),(N=Ch?Nh(e,n):Ph(e,n))&&(u=Ns(u,"onBeforeInput"),0<u.length&&(d=new ha("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}Ec(f,t)})}function kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ns(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mr(e,n),i!=null&&r.unshift(kr(e,i,s)),i=mr(e,t),i!=null&&r.push(kr(e,i,s))),e=e.return}return r}function tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ja(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=mr(n,i),a!=null&&o.unshift(kr(n,a,l))):s||(a=mr(n,i),a!=null&&o.push(kr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Bh=/\r\n?/g,Hh=/\u0000|\uFFFD/g;function Ca(e){return(typeof e=="string"?e:""+e).replace(Bh,`
`).replace(Hh,"")}function Jr(e,t,n){if(t=Ca(t),Ca(e)!==t&&n)throw Error(k(425))}function Ps(){}var go=null,vo=null;function yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,Vh=typeof clearTimeout=="function"?clearTimeout:void 0,Na=typeof Promise=="function"?Promise:void 0,qh=typeof queueMicrotask=="function"?queueMicrotask:typeof Na<"u"?function(e){return Na.resolve(null).then(e).catch(Wh)}:wo;function Wh(e){setTimeout(function(){throw e})}function Ri(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),yr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yr(t)}function St(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Dn,Sr="__reactProps$"+Dn,it="__reactContainer$"+Dn,_o="__reactEvents$"+Dn,Kh="__reactListeners$"+Dn,Qh="__reactHandles$"+Dn;function Ft(e){var t=e[Ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[it]||n[Ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pa(e);e!==null;){if(n=e[Ge])return n;e=Pa(e)}return t}e=n,n=e.parentNode}return null}function Lr(e){return e=e[Ge]||e[it],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Js(e){return e[Sr]||null}var xo=[],hn=-1;function At(e){return{current:e}}function B(e){0>hn||(e.current=xo[hn],xo[hn]=null,hn--)}function M(e,t){hn++,xo[hn]=e.current,e.current=t}var bt={},ce=At(bt),we=At(!1),Wt=bt;function Nn(e,t){var n=e.type.contextTypes;if(!n)return bt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _e(e){return e=e.childContextTypes,e!=null}function bs(){B(we),B(ce)}function ba(e,t,n){if(ce.current!==bt)throw Error(k(168));M(ce,t),M(we,n)}function Cc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(k(108,Af(e)||"Unknown",s));return W({},n,r)}function Ts(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bt,Wt=ce.current,M(ce,e),M(we,we.current),!0}function Ta(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=Cc(e,t,Wt),r.__reactInternalMemoizedMergedChildContext=e,B(we),B(ce),M(ce,e)):B(we),M(we,n)}var et=null,Ys=!1,Li=!1;function Nc(e){et===null?et=[e]:et.push(e)}function Gh(e){Ys=!0,Nc(e)}function Rt(){if(!Li&&et!==null){Li=!0;var e=0,t=U;try{var n=et;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}et=null,Ys=!1}catch(s){throw et!==null&&(et=et.slice(e+1)),Xu(ol,Rt),s}finally{U=t,Li=!1}}return null}var pn=[],mn=0,Os=null,As=0,be=[],Te=0,Kt=null,tt=1,nt="";function Dt(e,t){pn[mn++]=As,pn[mn++]=Os,Os=e,As=t}function Pc(e,t,n){be[Te++]=tt,be[Te++]=nt,be[Te++]=Kt,Kt=e;var r=tt;e=nt;var s=32-He(r)-1;r&=~(1<<s),n+=1;var i=32-He(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,tt=1<<32-He(t)+s|n<<s|r,nt=i+e}else tt=1<<i|n<<s|r,nt=e}function ml(e){e.return!==null&&(Dt(e,1),Pc(e,1,0))}function gl(e){for(;e===Os;)Os=pn[--mn],pn[mn]=null,As=pn[--mn],pn[mn]=null;for(;e===Kt;)Kt=be[--Te],be[Te]=null,nt=be[--Te],be[Te]=null,tt=be[--Te],be[Te]=null}var je=null,Ee=null,H=!1,Be=null;function bc(e,t){var n=Oe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,je=e,Ee=St(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,je=e,Ee=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kt!==null?{id:tt,overflow:nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Oe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,je=e,Ee=null,!0):!1;default:return!1}}function ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function So(e){if(H){var t=Ee;if(t){var n=t;if(!Oa(e,t)){if(ko(e))throw Error(k(418));t=St(n.nextSibling);var r=je;t&&Oa(e,t)?bc(r,n):(e.flags=e.flags&-4097|2,H=!1,je=e)}}else{if(ko(e))throw Error(k(418));e.flags=e.flags&-4097|2,H=!1,je=e}}}function Aa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;je=e}function Yr(e){if(e!==je)return!1;if(!H)return Aa(e),H=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yo(e.type,e.memoizedProps)),t&&(t=Ee)){if(ko(e))throw Tc(),Error(k(418));for(;t;)bc(e,t),t=St(t.nextSibling)}if(Aa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ee=St(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ee=null}}else Ee=je?St(e.stateNode.nextSibling):null;return!0}function Tc(){for(var e=Ee;e;)e=St(e.nextSibling)}function Pn(){Ee=je=null,H=!1}function vl(e){Be===null?Be=[e]:Be.push(e)}var Jh=at.ReactCurrentBatchConfig;function Kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function Xr(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ra(e){var t=e._init;return t(e._payload)}function Oc(e){function t(m,p){if(e){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Nt(m,p),m.index=0,m.sibling=null,m}function i(m,p,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,v,_){return p===null||p.tag!==6?(p=Fi(v,m.mode,_),p.return=m,p):(p=s(p,v),p.return=m,p)}function a(m,p,v,_){var S=v.type;return S===an?d(m,p,v.props.children,_,v.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ft&&Ra(S)===p.type)?(_=s(p,v.props),_.ref=Kn(m,p,v),_.return=m,_):(_=ys(v.type,v.key,v.props,null,m.mode,_),_.ref=Kn(m,p,v),_.return=m,_)}function u(m,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Bi(v,m.mode,_),p.return=m,p):(p=s(p,v.children||[]),p.return=m,p)}function d(m,p,v,_,S){return p===null||p.tag!==7?(p=qt(v,m.mode,_,S),p.return=m,p):(p=s(p,v),p.return=m,p)}function f(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Fi(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Fr:return v=ys(p.type,p.key,p.props,null,m.mode,v),v.ref=Kn(m,null,p),v.return=m,v;case ln:return p=Bi(p,m.mode,v),p.return=m,p;case ft:var _=p._init;return f(m,_(p._payload),v)}if(Xn(p)||Bn(p))return p=qt(p,m.mode,v,null),p.return=m,p;Xr(m,p)}return null}function h(m,p,v,_){var S=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(m,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fr:return v.key===S?a(m,p,v,_):null;case ln:return v.key===S?u(m,p,v,_):null;case ft:return S=v._init,h(m,p,S(v._payload),_)}if(Xn(v)||Bn(v))return S!==null?null:d(m,p,v,_,null);Xr(m,v)}return null}function g(m,p,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,l(p,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fr:return m=m.get(_.key===null?v:_.key)||null,a(p,m,_,S);case ln:return m=m.get(_.key===null?v:_.key)||null,u(p,m,_,S);case ft:var C=_._init;return g(m,p,v,C(_._payload),S)}if(Xn(_)||Bn(_))return m=m.get(v)||null,d(p,m,_,S,null);Xr(p,_)}return null}function w(m,p,v,_){for(var S=null,C=null,N=p,b=p=0,Q=null;N!==null&&b<v.length;b++){N.index>b?(Q=N,N=null):Q=N.sibling;var L=h(m,N,v[b],_);if(L===null){N===null&&(N=Q);break}e&&N&&L.alternate===null&&t(m,N),p=i(L,p,b),C===null?S=L:C.sibling=L,C=L,N=Q}if(b===v.length)return n(m,N),H&&Dt(m,b),S;if(N===null){for(;b<v.length;b++)N=f(m,v[b],_),N!==null&&(p=i(N,p,b),C===null?S=N:C.sibling=N,C=N);return H&&Dt(m,b),S}for(N=r(m,N);b<v.length;b++)Q=g(N,m,b,v[b],_),Q!==null&&(e&&Q.alternate!==null&&N.delete(Q.key===null?b:Q.key),p=i(Q,p,b),C===null?S=Q:C.sibling=Q,C=Q);return e&&N.forEach(function(De){return t(m,De)}),H&&Dt(m,b),S}function y(m,p,v,_){var S=Bn(v);if(typeof S!="function")throw Error(k(150));if(v=S.call(v),v==null)throw Error(k(151));for(var C=S=null,N=p,b=p=0,Q=null,L=v.next();N!==null&&!L.done;b++,L=v.next()){N.index>b?(Q=N,N=null):Q=N.sibling;var De=h(m,N,L.value,_);if(De===null){N===null&&(N=Q);break}e&&N&&De.alternate===null&&t(m,N),p=i(De,p,b),C===null?S=De:C.sibling=De,C=De,N=Q}if(L.done)return n(m,N),H&&Dt(m,b),S;if(N===null){for(;!L.done;b++,L=v.next())L=f(m,L.value,_),L!==null&&(p=i(L,p,b),C===null?S=L:C.sibling=L,C=L);return H&&Dt(m,b),S}for(N=r(m,N);!L.done;b++,L=v.next())L=g(N,m,b,L.value,_),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?b:L.key),p=i(L,p,b),C===null?S=L:C.sibling=L,C=L);return e&&N.forEach(function(Mn){return t(m,Mn)}),H&&Dt(m,b),S}function x(m,p,v,_){if(typeof v=="object"&&v!==null&&v.type===an&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fr:e:{for(var S=v.key,C=p;C!==null;){if(C.key===S){if(S=v.type,S===an){if(C.tag===7){n(m,C.sibling),p=s(C,v.props.children),p.return=m,m=p;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ft&&Ra(S)===C.type){n(m,C.sibling),p=s(C,v.props),p.ref=Kn(m,C,v),p.return=m,m=p;break e}n(m,C);break}else t(m,C);C=C.sibling}v.type===an?(p=qt(v.props.children,m.mode,_,v.key),p.return=m,m=p):(_=ys(v.type,v.key,v.props,null,m.mode,_),_.ref=Kn(m,p,v),_.return=m,m=_)}return o(m);case ln:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=s(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Bi(v,m.mode,_),p.return=m,m=p}return o(m);case ft:return C=v._init,x(m,p,C(v._payload),_)}if(Xn(v))return w(m,p,v,_);if(Bn(v))return y(m,p,v,_);Xr(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,v),p.return=m,m=p):(n(m,p),p=Fi(v,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return x}var bn=Oc(!0),Ac=Oc(!1),Rs=At(null),Ls=null,gn=null,yl=null;function wl(){yl=gn=Ls=null}function _l(e){var t=Rs.current;B(Rs),e._currentValue=t}function Eo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sn(e,t){Ls=e,yl=gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ye=!0),e.firstContext=null)}function Le(e){var t=e._currentValue;if(yl!==e)if(e={context:e,memoizedValue:t,next:null},gn===null){if(Ls===null)throw Error(k(308));gn=e,Ls.dependencies={lanes:0,firstContext:e}}else gn=gn.next=e;return t}var Bt=null;function xl(e){Bt===null?Bt=[e]:Bt.push(e)}function Rc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,xl(t)):(n.next=s.next,s.next=n),t.interleaved=n,ot(e,r)}function ot(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ht=!1;function kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Et(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ot(e,n)}return s=r.interleaved,s===null?(t.next=t,xl(r)):(t.next=s.next,s.next=t),r.interleaved=t,ot(e,n)}function fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ll(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $s(e,t,n,r){var s=e.updateQueue;ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=u=a=null,l=i;do{var h=l.lane,g=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(h=t,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(g,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(g,f,h):w,h==null)break e;f=W({},f,h);break e;case 2:ht=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,a=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gt|=o,e.lanes=o,e.memoizedState=f}}function $a(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var $r={},Ye=At($r),Er=At($r),jr=At($r);function Ht(e){if(e===$r)throw Error(k(174));return e}function Sl(e,t){switch(M(jr,t),M(Er,e),M(Ye,$r),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ro(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ro(t,e)}B(Ye),M(Ye,t)}function Tn(){B(Ye),B(Er),B(jr)}function $c(e){Ht(jr.current);var t=Ht(Ye.current),n=ro(t,e.type);t!==n&&(M(Er,e),M(Ye,n))}function El(e){Er.current===e&&(B(Ye),B(Er))}var V=At(0);function Is(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $i=[];function jl(){for(var e=0;e<$i.length;e++)$i[e]._workInProgressVersionPrimary=null;$i.length=0}var hs=at.ReactCurrentDispatcher,Ii=at.ReactCurrentBatchConfig,Qt=0,q=null,X=null,ne=null,Ds=!1,lr=!1,Cr=0,Yh=0;function le(){throw Error(k(321))}function Cl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qe(e[n],t[n]))return!1;return!0}function Nl(e,t,n,r,s,i){if(Qt=i,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=e===null||e.memoizedState===null?tp:np,e=n(r,s),lr){i=0;do{if(lr=!1,Cr=0,25<=i)throw Error(k(301));i+=1,ne=X=null,t.updateQueue=null,hs.current=rp,e=n(r,s)}while(lr)}if(hs.current=Us,t=X!==null&&X.next!==null,Qt=0,ne=X=q=null,Ds=!1,t)throw Error(k(300));return e}function Pl(){var e=Cr!==0;return Cr=0,e}function Qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?q.memoizedState=ne=e:ne=ne.next=e,ne}function $e(){if(X===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=X.next;var t=ne===null?q.memoizedState:ne.next;if(t!==null)ne=t,X=e;else{if(e===null)throw Error(k(310));X=e,e={memoizedState:X.memoizedState,baseState:X.baseState,baseQueue:X.baseQueue,queue:X.queue,next:null},ne===null?q.memoizedState=ne=e:ne=ne.next=e}return ne}function Nr(e,t){return typeof t=="function"?t(e):t}function Di(e){var t=$e(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=X,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((Qt&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,q.lanes|=d,Gt|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,qe(r,t.memoizedState)||(ye=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,q.lanes|=i,Gt|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ui(e){var t=$e(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);qe(i,t.memoizedState)||(ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ic(){}function Dc(e,t){var n=q,r=$e(),s=t(),i=!qe(r.memoizedState,s);if(i&&(r.memoizedState=s,ye=!0),r=r.queue,bl(Mc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ne!==null&&ne.memoizedState.tag&1){if(n.flags|=2048,Pr(9,zc.bind(null,n,r,s,t),void 0,null),re===null)throw Error(k(349));Qt&30||Uc(n,t,s)}return s}function Uc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zc(e,t,n,r){t.value=n,t.getSnapshot=r,Fc(t)&&Bc(e)}function Mc(e,t,n){return n(function(){Fc(t)&&Bc(e)})}function Fc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qe(e,n)}catch{return!0}}function Bc(e){var t=ot(e,1);t!==null&&Ve(t,e,1,-1)}function Ia(e){var t=Qe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=ep.bind(null,q,e),[t.memoizedState,e]}function Pr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hc(){return $e().memoizedState}function ps(e,t,n,r){var s=Qe();q.flags|=e,s.memoizedState=Pr(1|t,n,void 0,r===void 0?null:r)}function Xs(e,t,n,r){var s=$e();r=r===void 0?null:r;var i=void 0;if(X!==null){var o=X.memoizedState;if(i=o.destroy,r!==null&&Cl(r,o.deps)){s.memoizedState=Pr(t,n,i,r);return}}q.flags|=e,s.memoizedState=Pr(1|t,n,i,r)}function Da(e,t){return ps(8390656,8,e,t)}function bl(e,t){return Xs(2048,8,e,t)}function Vc(e,t){return Xs(4,2,e,t)}function qc(e,t){return Xs(4,4,e,t)}function Wc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kc(e,t,n){return n=n!=null?n.concat([e]):null,Xs(4,4,Wc.bind(null,t,e),n)}function Tl(){}function Qc(e,t){var n=$e();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gc(e,t){var n=$e();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jc(e,t,n){return Qt&21?(qe(n,t)||(n=tc(),q.lanes|=n,Gt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ye=!0),e.memoizedState=n)}function Xh(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=Ii.transition;Ii.transition={};try{e(!1),t()}finally{U=n,Ii.transition=r}}function Yc(){return $e().memoizedState}function Zh(e,t,n){var r=Ct(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xc(e))Zc(t,n);else if(n=Rc(e,t,n,r),n!==null){var s=fe();Ve(n,e,r,s),ed(n,t,r)}}function ep(e,t,n){var r=Ct(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xc(e))Zc(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qe(l,o)){var a=t.interleaved;a===null?(s.next=s,xl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Rc(e,t,s,r),n!==null&&(s=fe(),Ve(n,e,r,s),ed(n,t,r))}}function Xc(e){var t=e.alternate;return e===q||t!==null&&t===q}function Zc(e,t){lr=Ds=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ed(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ll(e,n)}}var Us={readContext:Le,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useInsertionEffect:le,useLayoutEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useMutableSource:le,useSyncExternalStore:le,useId:le,unstable_isNewReconciler:!1},tp={readContext:Le,useCallback:function(e,t){return Qe().memoizedState=[e,t===void 0?null:t],e},useContext:Le,useEffect:Da,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ps(4194308,4,Wc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return ps(4,2,e,t)},useMemo:function(e,t){var n=Qe();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qe();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zh.bind(null,q,e),[r.memoizedState,e]},useRef:function(e){var t=Qe();return e={current:e},t.memoizedState=e},useState:Ia,useDebugValue:Tl,useDeferredValue:function(e){return Qe().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Xh.bind(null,e[1]),Qe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=q,s=Qe();if(H){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),re===null)throw Error(k(349));Qt&30||Uc(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Da(Mc.bind(null,r,i,e),[e]),r.flags|=2048,Pr(9,zc.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qe(),t=re.identifierPrefix;if(H){var n=nt,r=tt;n=(r&~(1<<32-He(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},np={readContext:Le,useCallback:Qc,useContext:Le,useEffect:bl,useImperativeHandle:Kc,useInsertionEffect:Vc,useLayoutEffect:qc,useMemo:Gc,useReducer:Di,useRef:Hc,useState:function(){return Di(Nr)},useDebugValue:Tl,useDeferredValue:function(e){var t=$e();return Jc(t,X.memoizedState,e)},useTransition:function(){var e=Di(Nr)[0],t=$e().memoizedState;return[e,t]},useMutableSource:Ic,useSyncExternalStore:Dc,useId:Yc,unstable_isNewReconciler:!1},rp={readContext:Le,useCallback:Qc,useContext:Le,useEffect:bl,useImperativeHandle:Kc,useInsertionEffect:Vc,useLayoutEffect:qc,useMemo:Gc,useReducer:Ui,useRef:Hc,useState:function(){return Ui(Nr)},useDebugValue:Tl,useDeferredValue:function(e){var t=$e();return X===null?t.memoizedState=e:Jc(t,X.memoizedState,e)},useTransition:function(){var e=Ui(Nr)[0],t=$e().memoizedState;return[e,t]},useMutableSource:Ic,useSyncExternalStore:Dc,useId:Yc,unstable_isNewReconciler:!1};function ze(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zs={isMounted:function(e){return(e=e._reactInternals)?Xt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fe(),s=Ct(e),i=rt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Et(e,i,s),t!==null&&(Ve(t,e,s,r),fs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fe(),s=Ct(e),i=rt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Et(e,i,s),t!==null&&(Ve(t,e,s,r),fs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fe(),r=Ct(e),s=rt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Et(e,s,r),t!==null&&(Ve(t,e,r,n),fs(t,e,r))}};function Ua(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!_r(n,r)||!_r(s,i):!0}function td(e,t,n){var r=!1,s=bt,i=t.contextType;return typeof i=="object"&&i!==null?i=Le(i):(s=_e(t)?Wt:ce.current,r=t.contextTypes,i=(r=r!=null)?Nn(e,s):bt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function za(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zs.enqueueReplaceState(t,t.state,null)}function Co(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},kl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Le(i):(i=_e(t)?Wt:ce.current,s.context=Nn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zs.enqueueReplaceState(s,s.state,null),$s(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function On(e,t){try{var n="",r=t;do n+=Of(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function zi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function No(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sp=typeof WeakMap=="function"?WeakMap:Map;function nd(e,t,n){n=rt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ms||(Ms=!0,Do=r),No(e,t)},n}function rd(e,t,n){n=rt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){No(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){No(e,t),typeof r!="function"&&(jt===null?jt=new Set([this]):jt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ma(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=yp.bind(null,e,t,n),t.then(e,e))}function Fa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ba(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rt(-1,1),t.tag=2,Et(n,t,1))),n.lanes|=1),e)}var ip=at.ReactCurrentOwner,ye=!1;function de(e,t,n,r){t.child=e===null?Ac(t,null,n,r):bn(t,e.child,n,r)}function Ha(e,t,n,r,s){n=n.render;var i=t.ref;return Sn(t,s),r=Nl(e,t,n,r,i,s),n=Pl(),e!==null&&!ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,lt(e,t,s)):(H&&n&&ml(t),t.flags|=1,de(e,t,r,s),t.child)}function Va(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ul(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,sd(e,t,i,r,s)):(e=ys(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_r,n(o,r)&&e.ref===t.ref)return lt(e,t,s)}return t.flags|=1,e=Nt(i,r),e.ref=t.ref,e.return=t,t.child=e}function sd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(_r(i,r)&&e.ref===t.ref)if(ye=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ye=!0);else return t.lanes=e.lanes,lt(e,t,s)}return Po(e,t,n,r,s)}function id(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},M(yn,Se),Se|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,M(yn,Se),Se|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,M(yn,Se),Se|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,M(yn,Se),Se|=r;return de(e,t,s,n),t.child}function od(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Po(e,t,n,r,s){var i=_e(n)?Wt:ce.current;return i=Nn(t,i),Sn(t,s),n=Nl(e,t,n,r,i,s),r=Pl(),e!==null&&!ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,lt(e,t,s)):(H&&r&&ml(t),t.flags|=1,de(e,t,n,s),t.child)}function qa(e,t,n,r,s){if(_e(n)){var i=!0;Ts(t)}else i=!1;if(Sn(t,s),t.stateNode===null)ms(e,t),td(t,n,r),Co(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Le(u):(u=_e(n)?Wt:ce.current,u=Nn(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&za(t,o,r,u),ht=!1;var h=t.memoizedState;o.state=h,$s(t,r,o,s),a=t.memoizedState,l!==r||h!==a||we.current||ht?(typeof d=="function"&&(jo(t,n,d,r),a=t.memoizedState),(l=ht||Ua(t,n,l,r,h,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Lc(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ze(t.type,l),o.props=u,f=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Le(a):(a=_e(n)?Wt:ce.current,a=Nn(t,a));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==a)&&za(t,o,r,a),ht=!1,h=t.memoizedState,o.state=h,$s(t,r,o,s);var w=t.memoizedState;l!==f||h!==w||we.current||ht?(typeof g=="function"&&(jo(t,n,g,r),w=t.memoizedState),(u=ht||Ua(t,n,u,r,h,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bo(e,t,n,r,i,s)}function bo(e,t,n,r,s,i){od(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ta(t,n,!1),lt(e,t,i);r=t.stateNode,ip.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=bn(t,e.child,null,i),t.child=bn(t,null,l,i)):de(e,t,l,i),t.memoizedState=r.state,s&&Ta(t,n,!0),t.child}function ld(e){var t=e.stateNode;t.pendingContext?ba(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(e,t.context,!1),Sl(e,t.containerInfo)}function Wa(e,t,n,r,s){return Pn(),vl(s),t.flags|=256,de(e,t,n,r),t.child}var To={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function ad(e,t,n){var r=t.pendingProps,s=V.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),M(V,s&1),e===null)return So(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ni(o,r,0,null),e=qt(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oo(n),t.memoizedState=To,e):Ol(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return op(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Nt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Nt(l,i):(i=qt(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Oo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=To,r}return i=e.child,e=i.sibling,r=Nt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ol(e,t){return t=ni({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zr(e,t,n,r){return r!==null&&vl(r),bn(t,e.child,null,n),e=Ol(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function op(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=zi(Error(k(422))),Zr(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ni({mode:"visible",children:r.children},s,0,null),i=qt(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&bn(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=To,i);if(!(t.mode&1))return Zr(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(k(419)),r=zi(i,r,void 0),Zr(e,t,o,r)}if(l=(o&e.childLanes)!==0,ye||l){if(r=re,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ot(e,s),Ve(r,e,s,-1))}return Dl(),r=zi(Error(k(421))),Zr(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ee=St(s.nextSibling),je=t,H=!0,Be=null,e!==null&&(be[Te++]=tt,be[Te++]=nt,be[Te++]=Kt,tt=e.id,nt=e.overflow,Kt=t),t=Ol(t,r.children),t.flags|=4096,t)}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Eo(e.return,t,n)}function Mi(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ud(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(de(e,t,r.children,n),r=V.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ka(e,n,t);else if(e.tag===19)Ka(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(M(V,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Is(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Mi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Is(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Mi(t,!0,n,null,i);break;case"together":Mi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ms(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Nt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lp(e,t,n){switch(t.tag){case 3:ld(t),Pn();break;case 5:$c(t);break;case 1:_e(t.type)&&Ts(t);break;case 4:Sl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;M(Rs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(M(V,V.current&1),t.flags|=128,null):n&t.child.childLanes?ad(e,t,n):(M(V,V.current&1),e=lt(e,t,n),e!==null?e.sibling:null);M(V,V.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ud(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),M(V,V.current),r)break;return null;case 22:case 23:return t.lanes=0,id(e,t,n)}return lt(e,t,n)}var cd,Ao,dd,fd;cd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ao=function(){};dd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ht(Ye.current);var i=null;switch(n){case"input":s=Zi(e,s),r=Zi(e,r),i=[];break;case"select":s=W({},s,{value:void 0}),r=W({},r,{value:void 0}),i=[];break;case"textarea":s=no(e,s),r=no(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ps)}so(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&F("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};fd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qn(e,t){if(!H)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ap(e,t,n){var r=t.pendingProps;switch(gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(t),null;case 1:return _e(t.type)&&bs(),ae(t),null;case 3:return r=t.stateNode,Tn(),B(we),B(ce),jl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Be!==null&&(Mo(Be),Be=null))),Ao(e,t),ae(t),null;case 5:El(t);var s=Ht(jr.current);if(n=t.type,e!==null&&t.stateNode!=null)dd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return ae(t),null}if(e=Ht(Ye.current),Yr(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ge]=t,r[Sr]=i,e=(t.mode&1)!==0,n){case"dialog":F("cancel",r),F("close",r);break;case"iframe":case"object":case"embed":F("load",r);break;case"video":case"audio":for(s=0;s<er.length;s++)F(er[s],r);break;case"source":F("error",r);break;case"img":case"image":case"link":F("error",r),F("load",r);break;case"details":F("toggle",r);break;case"input":na(r,i),F("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},F("invalid",r);break;case"textarea":sa(r,i),F("invalid",r)}so(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Jr(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Jr(r.textContent,l,e),s=["children",""+l]):hr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&F("scroll",r)}switch(n){case"input":Br(r),ra(r,i,!0);break;case"textarea":Br(r),ia(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ps)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ge]=t,e[Sr]=r,cd(e,t,!1,!1),t.stateNode=e;e:{switch(o=io(n,r),n){case"dialog":F("cancel",e),F("close",e),s=r;break;case"iframe":case"object":case"embed":F("load",e),s=r;break;case"video":case"audio":for(s=0;s<er.length;s++)F(er[s],e);s=r;break;case"source":F("error",e),s=r;break;case"img":case"image":case"link":F("error",e),F("load",e),s=r;break;case"details":F("toggle",e),s=r;break;case"input":na(e,r),s=Zi(e,r),F("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=W({},r,{value:void 0}),F("invalid",e);break;case"textarea":sa(e,r),s=no(e,r),F("invalid",e);break;default:s=r}so(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Hu(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Fu(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&pr(e,a):typeof a=="number"&&pr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&F("scroll",e):a!=null&&tl(e,i,a,o))}switch(n){case"input":Br(e),ra(e,r,!1);break;case"textarea":Br(e),ia(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?wn(e,!!r.multiple,i,!1):r.defaultValue!=null&&wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ps)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ae(t),null;case 6:if(e&&t.stateNode!=null)fd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=Ht(jr.current),Ht(Ye.current),Yr(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ge]=t,(i=r.nodeValue!==n)&&(e=je,e!==null))switch(e.tag){case 3:Jr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ge]=t,t.stateNode=r}return ae(t),null;case 13:if(B(V),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(H&&Ee!==null&&t.mode&1&&!(t.flags&128))Tc(),Pn(),t.flags|=98560,i=!1;else if(i=Yr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(k(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Ge]=t}else Pn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ae(t),i=!1}else Be!==null&&(Mo(Be),Be=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||V.current&1?Z===0&&(Z=3):Dl())),t.updateQueue!==null&&(t.flags|=4),ae(t),null);case 4:return Tn(),Ao(e,t),e===null&&xr(t.stateNode.containerInfo),ae(t),null;case 10:return _l(t.type._context),ae(t),null;case 17:return _e(t.type)&&bs(),ae(t),null;case 19:if(B(V),i=t.memoizedState,i===null)return ae(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Qn(i,!1);else{if(Z!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Is(e),o!==null){for(t.flags|=128,Qn(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return M(V,V.current&1|2),t.child}e=e.sibling}i.tail!==null&&J()>An&&(t.flags|=128,r=!0,Qn(i,!1),t.lanes=4194304)}else{if(!r)if(e=Is(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!H)return ae(t),null}else 2*J()-i.renderingStartTime>An&&n!==1073741824&&(t.flags|=128,r=!0,Qn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=J(),t.sibling=null,n=V.current,M(V,r?n&1|2:n&1),t):(ae(t),null);case 22:case 23:return Il(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Se&1073741824&&(ae(t),t.subtreeFlags&6&&(t.flags|=8192)):ae(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function up(e,t){switch(gl(t),t.tag){case 1:return _e(t.type)&&bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),B(we),B(ce),jl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return El(t),null;case 13:if(B(V),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(V),null;case 4:return Tn(),null;case 10:return _l(t.type._context),null;case 22:case 23:return Il(),null;case 24:return null;default:return null}}var es=!1,ue=!1,cp=typeof WeakSet=="function"?WeakSet:Set,E=null;function vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){K(e,t,r)}else n.current=null}function Ro(e,t,n){try{n()}catch(r){K(e,t,r)}}var Qa=!1;function dp(e,t){if(go=js,e=vc(),pl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(a=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(vo={focusedElem:e,selectionRange:n},js=!1,E=t;E!==null;)if(t=E,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,E=e;else for(;E!==null;){t=E;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,x=w.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:ze(t.type,y),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(_){K(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,E=e;break}E=t.return}return w=Qa,Qa=!1,w}function ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ro(t,n,i)}s=s.next}while(s!==r)}}function ei(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hd(e){var t=e.alternate;t!==null&&(e.alternate=null,hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ge],delete t[Sr],delete t[_o],delete t[Kh],delete t[Qh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pd(e){return e.tag===5||e.tag===3||e.tag===4}function Ga(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ps));else if(r!==4&&(e=e.child,e!==null))for($o(e,t,n),e=e.sibling;e!==null;)$o(e,t,n),e=e.sibling}function Io(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Io(e,t,n),e=e.sibling;e!==null;)Io(e,t,n),e=e.sibling}var se=null,Me=!1;function ut(e,t,n){for(n=n.child;n!==null;)md(e,t,n),n=n.sibling}function md(e,t,n){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Ws,n)}catch{}switch(n.tag){case 5:ue||vn(n,t);case 6:var r=se,s=Me;se=null,ut(e,t,n),se=r,Me=s,se!==null&&(Me?(e=se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&(Me?(e=se,n=n.stateNode,e.nodeType===8?Ri(e.parentNode,n):e.nodeType===1&&Ri(e,n),yr(e)):Ri(se,n.stateNode));break;case 4:r=se,s=Me,se=n.stateNode.containerInfo,Me=!0,ut(e,t,n),se=r,Me=s;break;case 0:case 11:case 14:case 15:if(!ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ro(n,t,o),s=s.next}while(s!==r)}ut(e,t,n);break;case 1:if(!ue&&(vn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){K(n,t,l)}ut(e,t,n);break;case 21:ut(e,t,n);break;case 22:n.mode&1?(ue=(r=ue)||n.memoizedState!==null,ut(e,t,n),ue=r):ut(e,t,n);break;default:ut(e,t,n)}}function Ja(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cp),t.forEach(function(r){var s=_p.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ue(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:se=l.stateNode,Me=!1;break e;case 3:se=l.stateNode.containerInfo,Me=!0;break e;case 4:se=l.stateNode.containerInfo,Me=!0;break e}l=l.return}if(se===null)throw Error(k(160));md(i,o,s),se=null,Me=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){K(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gd(t,e),t=t.sibling}function gd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ue(t,e),We(e),r&4){try{ar(3,e,e.return),ei(3,e)}catch(y){K(e,e.return,y)}try{ar(5,e,e.return)}catch(y){K(e,e.return,y)}}break;case 1:Ue(t,e),We(e),r&512&&n!==null&&vn(n,n.return);break;case 5:if(Ue(t,e),We(e),r&512&&n!==null&&vn(n,n.return),e.flags&32){var s=e.stateNode;try{pr(s,"")}catch(y){K(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Uu(s,i),io(l,o);var u=io(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?Hu(s,f):d==="dangerouslySetInnerHTML"?Fu(s,f):d==="children"?pr(s,f):tl(s,d,f,u)}switch(l){case"input":eo(s,i);break;case"textarea":zu(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?wn(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?wn(s,!!i.multiple,i.defaultValue,!0):wn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sr]=i}catch(y){K(e,e.return,y)}}break;case 6:if(Ue(t,e),We(e),r&4){if(e.stateNode===null)throw Error(k(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){K(e,e.return,y)}}break;case 3:if(Ue(t,e),We(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yr(t.containerInfo)}catch(y){K(e,e.return,y)}break;case 4:Ue(t,e),We(e);break;case 13:Ue(t,e),We(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ll=J())),r&4&&Ja(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ue=(u=ue)||d,Ue(t,e),ue=u):Ue(t,e),We(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(E=e,d=e.child;d!==null;){for(f=E=d;E!==null;){switch(h=E,g=h.child,h.tag){case 0:case 11:case 14:case 15:ar(4,h,h.return);break;case 1:vn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){K(r,n,y)}}break;case 5:vn(h,h.return);break;case 22:if(h.memoizedState!==null){Xa(f);continue}}g!==null?(g.return=h,E=g):Xa(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Bu("display",o))}catch(y){K(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){K(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ue(t,e),We(e),r&4&&Ja(e);break;case 21:break;default:Ue(t,e),We(e)}}function We(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pd(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pr(s,""),r.flags&=-33);var i=Ga(e);Io(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ga(e);$o(e,l,o);break;default:throw Error(k(161))}}catch(a){K(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fp(e,t,n){E=e,vd(e)}function vd(e,t,n){for(var r=(e.mode&1)!==0;E!==null;){var s=E,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||es;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ue;l=es;var u=ue;if(es=o,(ue=a)&&!u)for(E=s;E!==null;)o=E,a=o.child,o.tag===22&&o.memoizedState!==null?Za(s):a!==null?(a.return=o,E=a):Za(s);for(;i!==null;)E=i,vd(i),i=i.sibling;E=s,es=l,ue=u}Ya(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,E=i):Ya(e)}}function Ya(e){for(;E!==null;){var t=E;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ue||ei(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ue)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ze(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$a(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$a(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}ue||t.flags&512&&Lo(t)}catch(h){K(t,t.return,h)}}if(t===e){E=null;break}if(n=t.sibling,n!==null){n.return=t.return,E=n;break}E=t.return}}function Xa(e){for(;E!==null;){var t=E;if(t===e){E=null;break}var n=t.sibling;if(n!==null){n.return=t.return,E=n;break}E=t.return}}function Za(e){for(;E!==null;){var t=E;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ei(4,t)}catch(a){K(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){K(t,s,a)}}var i=t.return;try{Lo(t)}catch(a){K(t,i,a)}break;case 5:var o=t.return;try{Lo(t)}catch(a){K(t,o,a)}}}catch(a){K(t,t.return,a)}if(t===e){E=null;break}var l=t.sibling;if(l!==null){l.return=t.return,E=l;break}E=t.return}}var hp=Math.ceil,zs=at.ReactCurrentDispatcher,Al=at.ReactCurrentOwner,Ae=at.ReactCurrentBatchConfig,D=0,re=null,Y=null,ie=0,Se=0,yn=At(0),Z=0,br=null,Gt=0,ti=0,Rl=0,ur=null,ge=null,Ll=0,An=1/0,Xe=null,Ms=!1,Do=null,jt=null,ts=!1,wt=null,Fs=0,cr=0,Uo=null,gs=-1,vs=0;function fe(){return D&6?J():gs!==-1?gs:gs=J()}function Ct(e){return e.mode&1?D&2&&ie!==0?ie&-ie:Jh.transition!==null?(vs===0&&(vs=tc()),vs):(e=U,e!==0||(e=window.event,e=e===void 0?16:ac(e.type)),e):1}function Ve(e,t,n,r){if(50<cr)throw cr=0,Uo=null,Error(k(185));Ar(e,n,r),(!(D&2)||e!==re)&&(e===re&&(!(D&2)&&(ti|=n),Z===4&&gt(e,ie)),xe(e,r),n===1&&D===0&&!(t.mode&1)&&(An=J()+500,Ys&&Rt()))}function xe(e,t){var n=e.callbackNode;Jf(e,t);var r=Es(e,e===re?ie:0);if(r===0)n!==null&&aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&aa(n),t===1)e.tag===0?Gh(eu.bind(null,e)):Nc(eu.bind(null,e)),qh(function(){!(D&6)&&Rt()}),n=null;else{switch(nc(r)){case 1:n=ol;break;case 4:n=Zu;break;case 16:n=Ss;break;case 536870912:n=ec;break;default:n=Ss}n=jd(n,yd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yd(e,t){if(gs=-1,vs=0,D&6)throw Error(k(327));var n=e.callbackNode;if(En()&&e.callbackNode!==n)return null;var r=Es(e,e===re?ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bs(e,r);else{t=r;var s=D;D|=2;var i=_d();(re!==e||ie!==t)&&(Xe=null,An=J()+500,Vt(e,t));do try{gp();break}catch(l){wd(e,l)}while(!0);wl(),zs.current=i,D=s,Y!==null?t=0:(re=null,ie=0,t=Z)}if(t!==0){if(t===2&&(s=co(e),s!==0&&(r=s,t=zo(e,s))),t===1)throw n=br,Vt(e,0),gt(e,r),xe(e,J()),n;if(t===6)gt(e,r);else{if(s=e.current.alternate,!(r&30)&&!pp(s)&&(t=Bs(e,r),t===2&&(i=co(e),i!==0&&(r=i,t=zo(e,i))),t===1))throw n=br,Vt(e,0),gt(e,r),xe(e,J()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Ut(e,ge,Xe);break;case 3:if(gt(e,r),(r&130023424)===r&&(t=Ll+500-J(),10<t)){if(Es(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wo(Ut.bind(null,e,ge,Xe),t);break}Ut(e,ge,Xe);break;case 4:if(gt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-He(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hp(r/1960))-r,10<r){e.timeoutHandle=wo(Ut.bind(null,e,ge,Xe),r);break}Ut(e,ge,Xe);break;case 5:Ut(e,ge,Xe);break;default:throw Error(k(329))}}}return xe(e,J()),e.callbackNode===n?yd.bind(null,e):null}function zo(e,t){var n=ur;return e.current.memoizedState.isDehydrated&&(Vt(e,t).flags|=256),e=Bs(e,t),e!==2&&(t=ge,ge=n,t!==null&&Mo(t)),e}function Mo(e){ge===null?ge=e:ge.push.apply(ge,e)}function pp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gt(e,t){for(t&=~Rl,t&=~ti,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-He(t),r=1<<n;e[n]=-1,t&=~r}}function eu(e){if(D&6)throw Error(k(327));En();var t=Es(e,0);if(!(t&1))return xe(e,J()),null;var n=Bs(e,t);if(e.tag!==0&&n===2){var r=co(e);r!==0&&(t=r,n=zo(e,r))}if(n===1)throw n=br,Vt(e,0),gt(e,t),xe(e,J()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ut(e,ge,Xe),xe(e,J()),null}function $l(e,t){var n=D;D|=1;try{return e(t)}finally{D=n,D===0&&(An=J()+500,Ys&&Rt())}}function Jt(e){wt!==null&&wt.tag===0&&!(D&6)&&En();var t=D;D|=1;var n=Ae.transition,r=U;try{if(Ae.transition=null,U=1,e)return e()}finally{U=r,Ae.transition=n,D=t,!(D&6)&&Rt()}}function Il(){Se=yn.current,B(yn)}function Vt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vh(n)),Y!==null)for(n=Y.return;n!==null;){var r=n;switch(gl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bs();break;case 3:Tn(),B(we),B(ce),jl();break;case 5:El(r);break;case 4:Tn();break;case 13:B(V);break;case 19:B(V);break;case 10:_l(r.type._context);break;case 22:case 23:Il()}n=n.return}if(re=e,Y=e=Nt(e.current,null),ie=Se=t,Z=0,br=null,Rl=ti=Gt=0,ge=ur=null,Bt!==null){for(t=0;t<Bt.length;t++)if(n=Bt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Bt=null}return e}function wd(e,t){do{var n=Y;try{if(wl(),hs.current=Us,Ds){for(var r=q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ds=!1}if(Qt=0,ne=X=q=null,lr=!1,Cr=0,Al.current=null,n===null||n.return===null){Z=1,br=t,Y=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Fa(o);if(g!==null){g.flags&=-257,Ba(g,o,l,i,t),g.mode&1&&Ma(i,u,t),t=g,a=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(a),t.updateQueue=y}else w.add(a);break e}else{if(!(t&1)){Ma(i,u,t),Dl();break e}a=Error(k(426))}}else if(H&&l.mode&1){var x=Fa(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ba(x,o,l,i,t),vl(On(a,l));break e}}i=a=On(a,l),Z!==4&&(Z=2),ur===null?ur=[i]:ur.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=nd(i,a,t);La(i,m);break e;case 1:l=a;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(jt===null||!jt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=rd(i,l,t);La(i,_);break e}}i=i.return}while(i!==null)}kd(n)}catch(S){t=S,Y===n&&n!==null&&(Y=n=n.return);continue}break}while(!0)}function _d(){var e=zs.current;return zs.current=Us,e===null?Us:e}function Dl(){(Z===0||Z===3||Z===2)&&(Z=4),re===null||!(Gt&268435455)&&!(ti&268435455)||gt(re,ie)}function Bs(e,t){var n=D;D|=2;var r=_d();(re!==e||ie!==t)&&(Xe=null,Vt(e,t));do try{mp();break}catch(s){wd(e,s)}while(!0);if(wl(),D=n,zs.current=r,Y!==null)throw Error(k(261));return re=null,ie=0,Z}function mp(){for(;Y!==null;)xd(Y)}function gp(){for(;Y!==null&&!Ff();)xd(Y)}function xd(e){var t=Ed(e.alternate,e,Se);e.memoizedProps=e.pendingProps,t===null?kd(e):Y=t,Al.current=null}function kd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=up(n,t),n!==null){n.flags&=32767,Y=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Z=6,Y=null;return}}else if(n=ap(n,t,Se),n!==null){Y=n;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=e}while(t!==null);Z===0&&(Z=5)}function Ut(e,t,n){var r=U,s=Ae.transition;try{Ae.transition=null,U=1,vp(e,t,n,r)}finally{Ae.transition=s,U=r}return null}function vp(e,t,n,r){do En();while(wt!==null);if(D&6)throw Error(k(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Yf(e,i),e===re&&(Y=re=null,ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ts||(ts=!0,jd(Ss,function(){return En(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ae.transition,Ae.transition=null;var o=U;U=1;var l=D;D|=4,Al.current=null,dp(e,n),gd(n,e),Dh(vo),js=!!go,vo=go=null,e.current=n,fp(n),Bf(),D=l,U=o,Ae.transition=i}else e.current=n;if(ts&&(ts=!1,wt=e,Fs=s),i=e.pendingLanes,i===0&&(jt=null),qf(n.stateNode),xe(e,J()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ms)throw Ms=!1,e=Do,Do=null,e;return Fs&1&&e.tag!==0&&En(),i=e.pendingLanes,i&1?e===Uo?cr++:(cr=0,Uo=e):cr=0,Rt(),null}function En(){if(wt!==null){var e=nc(Fs),t=Ae.transition,n=U;try{if(Ae.transition=null,U=16>e?16:e,wt===null)var r=!1;else{if(e=wt,wt=null,Fs=0,D&6)throw Error(k(331));var s=D;for(D|=4,E=e.current;E!==null;){var i=E,o=i.child;if(E.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(E=u;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:ar(8,d,i)}var f=d.child;if(f!==null)f.return=d,E=f;else for(;E!==null;){d=E;var h=d.sibling,g=d.return;if(hd(d),d===u){E=null;break}if(h!==null){h.return=g,E=h;break}E=g}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}E=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,E=o;else e:for(;E!==null;){if(i=E,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ar(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,E=m;break e}E=i.return}}var p=e.current;for(E=p;E!==null;){o=E;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,E=v;else e:for(o=p;E!==null;){if(l=E,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ei(9,l)}}catch(S){K(l,l.return,S)}if(l===o){E=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,E=_;break e}E=l.return}}if(D=s,Rt(),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Ws,e)}catch{}r=!0}return r}finally{U=n,Ae.transition=t}}return!1}function tu(e,t,n){t=On(n,t),t=nd(e,t,1),e=Et(e,t,1),t=fe(),e!==null&&(Ar(e,1,t),xe(e,t))}function K(e,t,n){if(e.tag===3)tu(e,e,n);else for(;t!==null;){if(t.tag===3){tu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jt===null||!jt.has(r))){e=On(n,e),e=rd(t,e,1),t=Et(t,e,1),e=fe(),t!==null&&(Ar(t,1,e),xe(t,e));break}}t=t.return}}function yp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fe(),e.pingedLanes|=e.suspendedLanes&n,re===e&&(ie&n)===n&&(Z===4||Z===3&&(ie&130023424)===ie&&500>J()-Ll?Vt(e,0):Rl|=n),xe(e,t)}function Sd(e,t){t===0&&(e.mode&1?(t=qr,qr<<=1,!(qr&130023424)&&(qr=4194304)):t=1);var n=fe();e=ot(e,t),e!==null&&(Ar(e,t,n),xe(e,n))}function wp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sd(e,n)}function _p(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),Sd(e,n)}var Ed;Ed=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||we.current)ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ye=!1,lp(e,t,n);ye=!!(e.flags&131072)}else ye=!1,H&&t.flags&1048576&&Pc(t,As,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ms(e,t),e=t.pendingProps;var s=Nn(t,ce.current);Sn(t,n),s=Nl(null,t,r,e,s,n);var i=Pl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_e(r)?(i=!0,Ts(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kl(t),s.updater=Zs,t.stateNode=s,s._reactInternals=t,Co(t,r,e,n),t=bo(null,t,r,!0,i,n)):(t.tag=0,H&&i&&ml(t),de(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ms(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=kp(r),e=ze(r,e),s){case 0:t=Po(null,t,r,e,n);break e;case 1:t=qa(null,t,r,e,n);break e;case 11:t=Ha(null,t,r,e,n);break e;case 14:t=Va(null,t,r,ze(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ze(r,s),Po(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ze(r,s),qa(e,t,r,s,n);case 3:e:{if(ld(t),e===null)throw Error(k(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Lc(e,t),$s(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=On(Error(k(423)),t),t=Wa(e,t,r,n,s);break e}else if(r!==s){s=On(Error(k(424)),t),t=Wa(e,t,r,n,s);break e}else for(Ee=St(t.stateNode.containerInfo.firstChild),je=t,H=!0,Be=null,n=Ac(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pn(),r===s){t=lt(e,t,n);break e}de(e,t,r,n)}t=t.child}return t;case 5:return $c(t),e===null&&So(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,yo(r,s)?o=null:i!==null&&yo(r,i)&&(t.flags|=32),od(e,t),de(e,t,o,n),t.child;case 6:return e===null&&So(t),null;case 13:return ad(e,t,n);case 4:return Sl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bn(t,null,r,n):de(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ze(r,s),Ha(e,t,r,s,n);case 7:return de(e,t,t.pendingProps,n),t.child;case 8:return de(e,t,t.pendingProps.children,n),t.child;case 12:return de(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,M(Rs,r._currentValue),r._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!we.current){t=lt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=rt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Eo(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Eo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}de(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Sn(t,n),s=Le(s),r=r(s),t.flags|=1,de(e,t,r,n),t.child;case 14:return r=t.type,s=ze(r,t.pendingProps),s=ze(r.type,s),Va(e,t,r,s,n);case 15:return sd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ze(r,s),ms(e,t),t.tag=1,_e(r)?(e=!0,Ts(t)):e=!1,Sn(t,n),td(t,r,s),Co(t,r,s,n),bo(null,t,r,!0,e,n);case 19:return ud(e,t,n);case 22:return id(e,t,n)}throw Error(k(156,t.tag))};function jd(e,t){return Xu(e,t)}function xp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,n,r){return new xp(e,t,n,r)}function Ul(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kp(e){if(typeof e=="function")return Ul(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rl)return 11;if(e===sl)return 14}return 2}function Nt(e,t){var n=e.alternate;return n===null?(n=Oe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ys(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ul(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case an:return qt(n.children,s,i,t);case nl:o=8,s|=8;break;case Gi:return e=Oe(12,n,t,s|2),e.elementType=Gi,e.lanes=i,e;case Ji:return e=Oe(13,n,t,s),e.elementType=Ji,e.lanes=i,e;case Yi:return e=Oe(19,n,t,s),e.elementType=Yi,e.lanes=i,e;case $u:return ni(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ru:o=10;break e;case Lu:o=9;break e;case rl:o=11;break e;case sl:o=14;break e;case ft:o=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=Oe(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function qt(e,t,n,r){return e=Oe(7,e,r,t),e.lanes=n,e}function ni(e,t,n,r){return e=Oe(22,e,r,t),e.elementType=$u,e.lanes=n,e.stateNode={isHidden:!1},e}function Fi(e,t,n){return e=Oe(6,e,null,t),e.lanes=n,e}function Bi(e,t,n){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,s,i,o,l,a){return e=new Sp(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Oe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kl(i),e}function Ep(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ln,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cd(e){if(!e)return bt;e=e._reactInternals;e:{if(Xt(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(_e(n))return Cc(e,n,t)}return t}function Nd(e,t,n,r,s,i,o,l,a){return e=zl(n,r,!0,e,s,i,o,l,a),e.context=Cd(null),n=e.current,r=fe(),s=Ct(n),i=rt(r,s),i.callback=t??null,Et(n,i,s),e.current.lanes=s,Ar(e,s,r),xe(e,r),e}function ri(e,t,n,r){var s=t.current,i=fe(),o=Ct(s);return n=Cd(n),t.context===null?t.context=n:t.pendingContext=n,t=rt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Et(s,t,o),e!==null&&(Ve(e,s,o,i),fs(e,s,o)),o}function Hs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ml(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function jp(){return null}var Pd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fl(e){this._internalRoot=e}si.prototype.render=Fl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));ri(e,t,null,null)};si.prototype.unmount=Fl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jt(function(){ri(null,e,null,null)}),t[it]=null}};function si(e){this._internalRoot=e}si.prototype.unstable_scheduleHydration=function(e){if(e){var t=ic();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mt.length&&t!==0&&t<mt[n].priority;n++);mt.splice(n,0,e),n===0&&lc(e)}};function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ru(){}function Cp(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Hs(o);i.call(u)}}var o=Nd(t,r,e,0,null,!1,!1,"",ru);return e._reactRootContainer=o,e[it]=o.current,xr(e.nodeType===8?e.parentNode:e),Jt(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Hs(a);l.call(u)}}var a=zl(e,0,!1,null,null,!1,!1,"",ru);return e._reactRootContainer=a,e[it]=a.current,xr(e.nodeType===8?e.parentNode:e),Jt(function(){ri(t,a,n,r)}),a}function oi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Hs(o);l.call(a)}}ri(t,o,e,s)}else o=Cp(n,t,e,s,r);return Hs(o)}rc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zn(t.pendingLanes);n!==0&&(ll(t,n|1),xe(t,J()),!(D&6)&&(An=J()+500,Rt()))}break;case 13:Jt(function(){var r=ot(e,1);if(r!==null){var s=fe();Ve(r,e,1,s)}}),Ml(e,1)}};al=function(e){if(e.tag===13){var t=ot(e,134217728);if(t!==null){var n=fe();Ve(t,e,134217728,n)}Ml(e,134217728)}};sc=function(e){if(e.tag===13){var t=Ct(e),n=ot(e,t);if(n!==null){var r=fe();Ve(n,e,t,r)}Ml(e,t)}};ic=function(){return U};oc=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};lo=function(e,t,n){switch(t){case"input":if(eo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Js(r);if(!s)throw Error(k(90));Du(r),eo(r,s)}}}break;case"textarea":zu(e,n);break;case"select":t=n.value,t!=null&&wn(e,!!n.multiple,t,!1)}};Wu=$l;Ku=Jt;var Np={usingClientEntryPoint:!1,Events:[Lr,fn,Js,Vu,qu,$l]},Gn={findFiberByHostInstance:Ft,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pp={bundleType:Gn.bundleType,version:Gn.version,rendererPackageName:Gn.rendererPackageName,rendererConfig:Gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:at.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ju(e),e===null?null:e.stateNode},findFiberByHostInstance:Gn.findFiberByHostInstance||jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{Ws=ns.inject(Pp),Je=ns}catch{}}Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np;Ne.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bl(t))throw Error(k(200));return Ep(e,t,null,n)};Ne.createRoot=function(e,t){if(!Bl(e))throw Error(k(299));var n=!1,r="",s=Pd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zl(e,1,!1,null,null,n,!1,r,s),e[it]=t.current,xr(e.nodeType===8?e.parentNode:e),new Fl(t)};Ne.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=Ju(t),e=e===null?null:e.stateNode,e};Ne.flushSync=function(e){return Jt(e)};Ne.hydrate=function(e,t,n){if(!ii(t))throw Error(k(200));return oi(null,e,t,!0,n)};Ne.hydrateRoot=function(e,t,n){if(!Bl(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Pd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Nd(t,null,e,1,n??null,s,!1,i,o),e[it]=t.current,xr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new si(t)};Ne.render=function(e,t,n){if(!ii(t))throw Error(k(200));return oi(null,e,t,!1,n)};Ne.unmountComponentAtNode=function(e){if(!ii(e))throw Error(k(40));return e._reactRootContainer?(Jt(function(){oi(null,null,e,!1,function(){e._reactRootContainer=null,e[it]=null})}),!0):!1};Ne.unstable_batchedUpdates=$l;Ne.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ii(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return oi(e,t,n,!1,r)};Ne.version="18.3.1-next-f1338f8080-20240426";function bd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bd)}catch(e){console.error(e)}}bd(),bu.exports=Ne;var bp=bu.exports,Td,su=bp;Td=su.createRoot,su.hydrateRoot;const Tp="modulepreload",Op=function(e){return"/"+e},iu={},Rn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Op(a),a in iu)return;iu[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Tp,u||(f.as="script"),f.crossOrigin="",f.href=a,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Ap=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rn(async()=>{const{default:r}=await Promise.resolve().then(()=>Un);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Hl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Rp extends Hl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lp extends Hl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $p extends Hl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fo||(Fo={}));var Ip=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class Dp{constructor(t,{headers:n={},customFetch:r,region:s=Fo.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Ap(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Ip(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new Rp(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Lp(d);if(!d.ok)throw new $p(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var ve={},Vl={},li={},Ir={},ai={},ui={},Up=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ln=Up();const zp=Ln.fetch,Od=Ln.fetch.bind(Ln),Ad=Ln.Headers,Mp=Ln.Request,Fp=Ln.Response,Un=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ad,Request:Mp,Response:Fp,default:Od,fetch:zp},Symbol.toStringTag,{value:"Module"})),Bp=nf(Un);var ci={};Object.defineProperty(ci,"__esModule",{value:!0});let Hp=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ci.default=Hp;var Rd=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ui,"__esModule",{value:!0});const Vp=Rd(Bp),qp=Rd(ci);let Wp=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Vp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,d=null,f=null,h=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,g="OK")}catch{i.status===404&&y===""?(h=204,g="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new qp.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ui.default=Wp;var Kp=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ai,"__esModule",{value:!0});const Qp=Kp(ui);let Gp=class extends Qp.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ai.default=Gp;var Jp=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ir,"__esModule",{value:!0});const Yp=Jp(ai);let Xp=class extends Yp.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ir.default=Xp;var Zp=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(li,"__esModule",{value:!0});const Jn=Zp(Ir);let em=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Jn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Jn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};li.default=em;var di={},fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.version=void 0;fi.version="0.0.0-automated";Object.defineProperty(di,"__esModule",{value:!0});di.DEFAULT_HEADERS=void 0;const tm=fi;di.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${tm.version}`};var Ld=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vl,"__esModule",{value:!0});const nm=Ld(li),rm=Ld(Ir),sm=di;let im=class $d{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},sm.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new nm.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $d(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new rm.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Vl.default=im;var zn=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0});ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;const Id=zn(Vl);ve.PostgrestClient=Id.default;const Dd=zn(li);ve.PostgrestQueryBuilder=Dd.default;const Ud=zn(Ir);ve.PostgrestFilterBuilder=Ud.default;const zd=zn(ai);ve.PostgrestTransformBuilder=zd.default;const Md=zn(ui);ve.PostgrestBuilder=Md.default;const Fd=zn(ci);ve.PostgrestError=Fd.default;var om=ve.default={PostgrestClient:Id.default,PostgrestQueryBuilder:Dd.default,PostgrestFilterBuilder:Ud.default,PostgrestTransformBuilder:zd.default,PostgrestBuilder:Md.default,PostgrestError:Fd.default};const{PostgrestClient:lm,PostgrestQueryBuilder:m0,PostgrestFilterBuilder:g0,PostgrestTransformBuilder:v0,PostgrestBuilder:y0,PostgrestError:w0}=om,am="2.11.2",um={"X-Client-Info":`realtime-js/${am}`},cm="1.0.0",Bd=1e4,dm=1e3;var jn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(jn||(jn={}));var ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ke||(ke={}));var Fe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fe||(Fe={}));var Bo;(function(e){e.websocket="websocket"})(Bo||(Bo={}));var Mt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mt||(Mt={}));class fm{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const a=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Hd{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(z||(z={}));const ou=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=hm(o,e,t,s),i),{})},hm=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Vd(i,o):Ho(o)},Vd=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return vm(t,n)}switch(e){case z.bool:return pm(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return mm(t);case z.json:case z.jsonb:return gm(t);case z.timestamp:return ym(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return Ho(t);default:return Ho(t)}},Ho=e=>e,pm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},vm=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Vd(t,l))}return e},ym=e=>typeof e=="string"?e.replace(" ","T"):e,qd=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Hi{constructor(t,n,r={},s=Bd){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lu||(lu={}));class dr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=dr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=dr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),g=f.map(x=>x.presence_ref),w=d.filter(x=>g.indexOf(x.presence_ref)<0),y=f.filter(x=>h.indexOf(x.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(a[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}r(l,d,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const d=a.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,a),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var au;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(au||(au={}));var uu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uu||(uu={}));var Ze;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ze||(Ze={}));class ql{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hi(this,Fe.join,this.params,this.timeout),this.rejoinTimer=new Hd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new dr(this),this.broadcastEndpointURL=qd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ze.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ze.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Ze.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let y=0;y<g;y++){const x=h[y],{filter:{event:m,schema:p,table:v,filter:_}}=x,S=d&&d[y];if(S&&S.event===m&&S.schema===p&&S.table===v&&S.filter===_)w.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t==null||t(Ze.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Ze.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ze.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ze.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ke.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Hi(this,Fe.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hi(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=Fe;if(r&&[l,a,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var w,y,x;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(y=g.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,y,x,m,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,S=(w=g.filter)===null||w===void 0?void 0:w.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:y,table:x,commit_timestamp:m,type:p,errors:v}=w;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:m,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(w))}g.callback(h,r)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ql.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fe.close,{},t)}_onError(t){this._on(Fe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ou(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ou(t.columns,t.old_record)),n}}const wm=()=>{},_m=typeof WebSocket<"u",xm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class km{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=um,this.params={},this.timeout=Bd,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wm,this.conn=null,this.sendBuffer=[],this.serializer=new fm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Rn(async()=>{const{default:a}=await Promise.resolve().then(()=>Un);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Bo.websocket}`,this.httpEndpoint=qd(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Hd(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(_m){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Sm(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Rn(async()=>{const{default:t}=await import("./browser-DGAkRo84.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cm}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jn.connecting:return Mt.Connecting;case jn.open:return Mt.Open;case jn.closing:return Mt.Closing;default:return Mt.Closed}}isConnected(){return this.connectionState()===Mt.Open}channel(t,n={config:{}}){const r=new ql(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Fe.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(dm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([xm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Sm{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Wl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Em extends Wl{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vo extends Wl{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var jm=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Wd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rn(async()=>{const{default:r}=await Promise.resolve().then(()=>Un);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Cm=()=>jm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rn(()=>Promise.resolve().then(()=>Un),void 0)).Response:Response}),qo=e=>{if(Array.isArray(e))return e.map(n=>qo(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=qo(r)}),t};var Zt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Vi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nm=(e,t,n)=>Zt(void 0,void 0,void 0,function*(){const r=yield Cm();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Em(Vi(s),e.status||500))}).catch(s=>{t(new Vo(Vi(s),s))}):t(new Vo(Vi(e),e))}),Pm=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Dr(e,t,n,r,s,i){return Zt(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Pm(t,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Nm(a,l,r))})})}function Vs(e,t,n,r){return Zt(this,void 0,void 0,function*(){return Dr(e,"GET",t,n,r)})}function pt(e,t,n,r,s){return Zt(this,void 0,void 0,function*(){return Dr(e,"POST",t,r,s,n)})}function bm(e,t,n,r,s){return Zt(this,void 0,void 0,function*(){return Dr(e,"PUT",t,r,s,n)})}function Tm(e,t,n,r){return Zt(this,void 0,void 0,function*(){return Dr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Kd(e,t,n,r,s){return Zt(this,void 0,void 0,function*(){return Dr(e,"DELETE",t,r,s,n)})}var me=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Om={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Am{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Wd(s)}uploadOrUpdate(t,n,r,s){return me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},cu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(te(i))return{data:null,error:i};throw i}})}upload(t,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:cu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(te(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Wl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}update(t,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return me(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}copy(t,n,r){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return me(this,void 0,void 0,function*(){try{const s=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}download(t,n){return me(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Vs(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}})}info(t){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Vs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:qo(r),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}exists(t){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Tm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(te(r)&&r instanceof Vo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return me(this,void 0,void 0,function*(){try{return{data:yield Kd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}list(t,n,r){return me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Om),n),{prefix:t||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Rm="2.7.1",Lm={"X-Client-Info":`storage-js/${Rm}`};var nn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class $m{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Lm),n),this.fetch=Wd(r)}listBuckets(){return nn(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(te(t))return{data:null,error:t};throw t}})}getBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return nn(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return nn(this,void 0,void 0,function*(){try{return{data:yield bm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}emptyBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}deleteBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield Kd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}}class Im extends $m{constructor(t,n={},r){super(t,n,r)}from(t){return new Am(this.url,this.headers,t,this.fetch)}}const Dm="2.49.1";let tr="";typeof Deno<"u"?tr="deno":typeof document<"u"?tr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tr="react-native":tr="node";const Um={"X-Client-Info":`supabase-js-${tr}/${Dm}`},zm={headers:Um},Mm={schema:"public"},Fm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bm={};var Hm=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Vm=e=>{let t;return e?t=e:typeof fetch>"u"?t=Od:t=fetch,(...n)=>t(...n)},qm=()=>typeof Headers>"u"?Ad:Headers,Wm=(e,t,n)=>{const r=Vm(n),s=qm();return(i,o)=>Hm(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Km=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};function Qm(e){return e.replace(/\/$/,"")}function Gm(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:a,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Km(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Qd="2.68.0",on=30*1e3,Wo=3,qi=Wo*on,Jm="http://localhost:9999",Ym="supabase.auth.token",Xm={"X-Client-Info":`gotrue-js/${Qd}`},Ko="X-Supabase-Api-Version",Gd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Zm(e){return Math.round(Date.now()/1e3)+e}function eg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",It={tested:!1,writable:!1},fr=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(It.tested)return It.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),It.tested=!0,It.writable=!0}catch{It.tested=!0,It.writable=!1}return It.writable};function tg(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Jd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rn(async()=>{const{default:r}=await Promise.resolve().then(()=>Un);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ng=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ss=async(e,t)=>{await e.removeItem(t)};function rg(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,a,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,s=(l&15)<<4|a>>2,i=(a&3)<<6|u,n=n+String.fromCharCode(r),a!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class hi{constructor(){this.promise=new hi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}hi.promiseConstructor=Promise;function du(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(rg(r))}async function sg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ig(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function og(e){return("0"+e.toString(16)).substr(-2)}function lg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,og).join("")}async function ag(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function ug(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ag(e);return ug(n)}async function rn(e,t,n=!1){const r=lg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Yd(e,`${t}-code-verifier`,s);const i=await cg(r);return[i,r===i?"plain":"s256"]}const dg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fg(e){const t=e.headers.get(Ko);if(!t||!t.match(dg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Kl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hg extends Kl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pg(e){return O(e)&&e.name==="AuthApiError"}class Xd extends Kl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class en extends Kl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ct extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mg(e){return O(e)&&e.name==="AuthSessionMissingError"}class Wi extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class is extends en{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class os extends en{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gg(e){return O(e)&&e.name==="AuthImplicitGrantRedirectError"}class fu extends en{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qo extends en{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ki(e){return O(e)&&e.name==="AuthRetryableFetchError"}class hu extends en{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var vg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const zt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yg=[502,503,504];async function pu(e){var t;if(!ng(e))throw new Qo(zt(e),0);if(yg.includes(e.status))throw new Qo(zt(e),e.status);let n;try{n=await e.json()}catch(i){throw new Xd(zt(i),i)}let r;const s=fg(e);if(s&&s.getTime()>=Gd["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new hu(zt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new hu(zt(n),e.status,n.weak_password.reasons);throw new hg(zt(n),e.status||500,r)}const wg=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ko]||(i[Ko]=Gd["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await _g(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function _g(e,t,n,r,s,i){const o=wg(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new Qo(zt(a),0)}if(l.ok||await pu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await pu(a)}}function dt(e){var t;let n=null;Eg(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Zm(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function mu(e){const t=dt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xg(e){return{data:e,error:null}}function kg(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=vg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Sg(e){return e}function Eg(e){return e.access_token&&e.refresh_token&&e.expires_in}var jg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Cg{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Jd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=jg(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Sg});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return g.length>0&&(g.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}}const Ng={getItem:e=>fr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{fr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{fr()&&globalThis.localStorage.removeItem(e)}};function gu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Pg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sn={debug:!!(globalThis&&fr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zd extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bg extends Zd{}async function Tg(e,t,n){sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Pg();const Og={url:Jm,storageKey:Ym,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vu(e,t,n){return await n()}class Tr{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tr.nextInstanceID,Tr.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Og),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Cg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jd(s.fetch),this.lock=s.lock||vu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Tg:this.lock=vu,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:fr()?this.storage=Ng:(this.memoryStorage={},this.storage=gu(this.memoryStorage)):(this.memoryStorage={},this.storage=gu(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qd}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=tg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gg(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?{error:n}:{error:new Xd("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await rn(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:w},xform:dt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dt})}else throw new is("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mu})}else throw new is("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:dt});if(await ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Wi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(O(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Wi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await rn(this.storage,this.storageKey));const{error:f}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new is("You must provide either an email or phone number.")}catch(l){if(O(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await rn(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:xg})}catch(i){if(O(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ct;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(O(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new is("You must provide either an email or phone number and a type")}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qi:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ct}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vt})})}catch(n){if(O(n))return mg(n)&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ct;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await rn(this.storage,this.storageKey));const{data:u,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:vt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return du(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ct;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=du(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(O(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ct;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ke())throw new os("No browser detected.");if(t.error||t.error_description||t.error_code)throw new os(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new os("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fu("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!i||!l||!o||!u)throw new os("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;a&&(h=parseInt(a));const g=h-d;g*1e3<=on&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(O(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(pg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=eg(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await rn(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(O(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ke()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(O(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ig(async s=>(s>0&&await sg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ki(i)&&Date.now()+o-r<on})}catch(r){if(this._debug(n,"error",r),O(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await rs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qi;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${qi}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ki(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new hi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),O(i)){const o={session:null,error:i};return Ki(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Yd(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ss(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),on);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/on);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${on}ms, refresh threshold is ${Wo} ticks`),s<=Wo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zd)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await rn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}}Tr.nextInstanceID=0;const Ag=Tr;class Rg extends Ag{constructor(t){super(t)}}var Lg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class $g{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Qm(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Mm,realtime:Bm,auth:Object.assign(Object.assign({},Fm),{storageKey:a}),global:zm},d=Gm(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Wm(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new lm(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Dp(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Im(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Lg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rg({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new km(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ig=(e,t,n)=>new $g(e,t,n);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ie=(e,t)=>{const n=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>P.createElement("svg",{ref:d,...Dg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ug(e)}`,l].join(" "),...u},[...t.map(([f,h])=>P.createElement(f,h)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Ie("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Kg=()=>c.jsx("header",{className:"bg-red-600 text-white shadow-md",children:c.jsx("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:c.jsx("div",{className:"flex items-center",children:c.jsx("span",{className:"font-bold text-xl tracking-tight",children:"EMERGENCAHEAD"})})})}),Qg=({userId:e})=>{const[t,n]=P.useState(!1),[r,s]=P.useState(!1),[i,o]=P.useState(null);P.useEffect(()=>{l()},[]);const l=async()=>{if("permissions"in navigator)try{const h=await navigator.permissions.query({name:"geolocation"});o(h.state),h.addEventListener("change",()=>{o(h.state)}),h.state==="prompt"&&a()}catch(h){console.error("Error checking location permission:",h)}else a()},a=()=>new Promise((h,g)=>{if(!navigator.geolocation){g(new Error("Geolocation is not supported by this browser."));return}navigator.geolocation.getCurrentPosition(w=>{o("granted"),h(w)},w=>{w.code===w.PERMISSION_DENIED&&o("denied"),g(w)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),u=async()=>{if(!t){s(!0);try{const h=await a(),{latitude:g,longitude:w}=h.coords,{error:y}=await I.from("emergency_alerts").insert([{user_id:e,latitude:g,longitude:w,status:"active",created_at:new Date().toISOString()}]);y?(console.error("Error creating emergency alert:",y),alert("Failed to create emergency alert. Please try again.")):(n(!0),d(e))}catch(h){console.error("Error in emergency alert:",h),h.code===1?alert("Location access is required for emergency services. Please enable location services and try again."):alert("An unexpected error occurred. Please try again.")}finally{s(!1)}}},d=h=>{const g=setInterval(async()=>{try{const w=await a(),{latitude:y,longitude:x}=w.coords,{error:m}=await I.from("location_updates").insert([{user_id:h,latitude:y,longitude:x,created_at:new Date().toISOString()}]);m&&console.error("Error updating location:",m)}catch(w){console.error("Error getting updated location:",w)}},3e4);return()=>clearInterval(g)},f=async()=>{try{const{error:h}=await I.from("emergency_alerts").update({status:"cancelled"}).eq("user_id",e).eq("status","active");h?(console.error("Error cancelling emergency alert:",h),alert("Failed to cancel emergency alert. Please try again.")):n(!1)}catch(h){console.error("Error in cancel emergency:",h),alert("An unexpected error occurred. Please try again.")}};return c.jsxs("div",{className:"flex flex-col items-center",children:[i==="denied"&&c.jsxs("div",{className:"bg-red-100 text-red-800 p-4 rounded-lg mb-4 text-center",children:[c.jsx("p",{className:"font-bold mb-2",children:"Location Access Required"}),c.jsx("p",{children:"Please enable location services in your browser settings to use emergency features."})]}),t?c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"bg-red-100 text-red-800 p-4 rounded-lg mb-4",children:[c.jsx("p",{className:"font-bold",children:"Emergency Alert Active"}),c.jsx("p",{children:"Help is on the way. Stay calm and remain in your location if safe to do so."})]}),c.jsx("button",{onClick:f,className:"bg-white border-2 border-red-600 text-red-600 font-bold py-3 px-6 rounded-full hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-300",children:"Cancel Emergency"})]}):c.jsx("button",{onClick:u,disabled:r||i==="denied",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-16 px-16 rounded-full shadow-lg transform transition-transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-300 disabled:opacity-50 disabled:hover:scale-100",children:r?c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"}):c.jsxs(c.Fragment,{children:[c.jsx(Tt,{size:64,className:"mx-auto mb-2"}),c.jsx("span",{className:"text-2xl",children:"SOS"})]})})]})},Gg=({userId:e,emergencyActive:t=!1})=>{const[n,r]=P.useState(null),[s,i]=P.useState(null);return P.useEffect(()=>{if((async()=>{try{const l=await new Promise((d,f)=>{navigator.geolocation.getCurrentPosition(d,f,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}),{latitude:a,longitude:u}=l.coords;r({latitude:a,longitude:u}),i(null)}catch(l){console.error("Error getting location:",l),l.code===1?i("Location access is required. Please enable location services in your browser settings."):l.code===2?i("Unable to determine your location. Please check your device settings."):l.code===3?i("Location request timed out. Please try again."):i("An error occurred while getting your location.")}})(),t){const l=I.channel("location_updates").on("postgres_changes",{event:"INSERT",schema:"public",table:"location_updates",filter:`user_id=eq.${e}`},a=>{const{latitude:u,longitude:d}=a.new;r({latitude:u,longitude:d})}).subscribe();return()=>{l.unsubscribe()}}},[e,t]),s?c.jsx("div",{className:"bg-red-100 rounded-lg p-4 flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-red-800 text-center",children:[c.jsx(ws,{size:24,className:"mx-auto mb-2"}),c.jsx("p",{children:s})]})}):n?c.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 h-64 relative",children:[c.jsx("div",{className:"absolute top-2 right-2 bg-white p-2 rounded-md shadow-sm",children:c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(ws,{size:16,className:"text-red-600 mr-1"}),c.jsxs("span",{children:[n.latitude.toFixed(6),", ",n.longitude.toFixed(6)]})]})}),c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ws,{size:32,className:"text-red-600 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-700",children:t?"Your location is being shared":"Your current location"})]})})]}):c.jsx("div",{className:"bg-gray-100 rounded-lg p-4 flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-gray-500",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-600 mx-auto mb-2"}),c.jsx("p",{children:"Getting your location..."})]})})},Jg=({user:e})=>{const[t,n]=P.useState(!1),[r,s]=P.useState([]);return P.useEffect(()=>{const i=async()=>{const{data:a,error:u}=await I.from("emergency_alerts").select("*").eq("user_id",e.id).eq("status","active").order("created_at",{ascending:!1}).limit(1);u?console.error("Error checking active emergency:",u):a&&a.length>0&&n(!0)},o=async()=>{const{data:a,error:u}=await I.from("emergency_contacts").select("*").eq("user_id",e.id);u?console.error("Error getting emergency contacts:",u):a&&s(a)};i(),o();const l=I.channel("emergency_alerts").on("postgres_changes",{event:"*",schema:"public",table:"emergency_alerts",filter:`user_id=eq.${e.id}`},a=>{a.eventType==="UPDATE"?a.new.status==="active"?n(!0):(a.new.status==="cancelled"||a.new.status==="resolved")&&n(!1):a.eventType==="INSERT"&&a.new.status==="active"&&n(!0)}).subscribe();return()=>{l.unsubscribe()}},[e.id]),c.jsxs("div",{className:"max-w-lg mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Emergency Response"}),c.jsx("div",{className:"mb-8",children:c.jsx(Qg,{userId:e.id})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Your Location"}),c.jsx(Gg,{userId:e.id,emergencyActive:t})]}),r.length>0?c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Emergency Contacts"}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:r.map(i=>c.jsxs("div",{className:"mb-3 last:mb-0 pb-3 last:pb-0 border-b last:border-b-0 border-gray-200",children:[c.jsx("p",{className:"font-medium",children:i.name}),c.jsx("p",{className:"text-gray-600",children:i.phone})]},i.id))})]}):c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:c.jsx("p",{className:"text-yellow-700",children:"You haven't added any emergency contacts yet. Go to Settings to add contacts who will be notified in case of emergency."})})]})},Yg=({donor:e})=>{const t=()=>{const n=e.phone.replace(/\D/g,""),r=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),s=`tel:${n}`;r?window.location.href=s:alert(`Please call this number on your phone: ${e.phone}`)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-bold text-lg",children:e.name}),c.jsx("span",{className:"bg-red-100 text-red-800 font-bold px-3 py-1 rounded-full text-sm",children:e.bloodType})]}),c.jsxs("div",{className:"text-gray-600 mb-3",children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx(ws,{size:16,className:"mr-2"}),c.jsxs("span",{children:[e.location," (",e.distance,")"]})]}),c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx(Fg,{size:16,className:"mr-2"}),c.jsxs("span",{children:["Last donation: ",e.lastDonation]})]})]}),c.jsxs("button",{onClick:t,className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg flex items-center justify-center",disabled:!e.phone||e.phone==="Contact through app",children:[c.jsx(Hg,{size:16,className:"mr-2"}),e.phone==="Contact through app"?"No phone number available":"Call Donor"]})]})},Xg=({userId:e,onRequestSubmitted:t})=>{const[n,r]=P.useState(""),[s,i]=P.useState("1"),[o,l]=P.useState("normal"),[a,u]=P.useState(""),[d,f]=P.useState(""),[h,g]=P.useState(!1),w=async y=>{if(y.preventDefault(),!n||!s||!o||!a){alert("Please fill in all required fields");return}g(!0);try{navigator.geolocation.getCurrentPosition(async x=>{const{latitude:m,longitude:p}=x.coords,{error:v}=await I.from("blood_requests").insert([{user_id:e,blood_type:n,units:parseInt(s),urgency:o,hospital:a,notes:d,latitude:m,longitude:p,status:"active",created_at:new Date().toISOString()}]);v?(console.error("Error creating blood request:",v),alert("Failed to create blood request. Please try again.")):(alert("Blood request submitted successfully!"),t()),g(!1)},x=>{console.error("Error getting location:",x),alert("Failed to get your location. Please enable location services and try again."),g(!1)})}catch(x){console.error("Error in blood request:",x),alert("An unexpected error occurred. Please try again."),g(!1)}};return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request Blood Donation"}),c.jsxs("form",{onSubmit:w,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Blood Type *"}),c.jsxs("select",{value:n,onChange:y=>r(y.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Blood Type"}),c.jsx("option",{value:"A+",children:"A+"}),c.jsx("option",{value:"A-",children:"A-"}),c.jsx("option",{value:"B+",children:"B+"}),c.jsx("option",{value:"B-",children:"B-"}),c.jsx("option",{value:"AB+",children:"AB+"}),c.jsx("option",{value:"AB-",children:"AB-"}),c.jsx("option",{value:"O+",children:"O+"}),c.jsx("option",{value:"O-",children:"O-"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Units Needed *"}),c.jsxs("select",{value:s,onChange:y=>i(y.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,children:[c.jsx("option",{value:"1",children:"1 Unit"}),c.jsx("option",{value:"2",children:"2 Units"}),c.jsx("option",{value:"3",children:"3 Units"}),c.jsx("option",{value:"4",children:"4+ Units"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Urgency *"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",value:"normal",checked:o==="normal",onChange:()=>l("normal"),className:"mr-2"}),c.jsx("span",{children:"Normal"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",value:"urgent",checked:o==="urgent",onChange:()=>l("urgent"),className:"mr-2"}),c.jsx("span",{children:"Urgent"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",value:"critical",checked:o==="critical",onChange:()=>l("critical"),className:"mr-2"}),c.jsx("span",{children:"Critical"})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Hospital/Location *"}),c.jsx("input",{type:"text",value:a,onChange:y=>u(y.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter hospital or location",required:!0})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Additional Notes"}),c.jsx("textarea",{value:d,onChange:y=>f(y.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Any additional information",rows:3})]}),c.jsx("button",{type:"submit",disabled:h,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:ring-4 focus:ring-red-300 disabled:opacity-50",children:h?"Submitting...":"Submit Blood Request"})]})]})},Zg=({user:e})=>{const[t,n]=P.useState("find"),[r,s]=P.useState(""),[i,o]=P.useState("10"),[l,a]=P.useState([]),[u,d]=P.useState(!1),[f,h]=P.useState(null);P.useEffect(()=>{(async()=>{try{const{data:m,error:p}=await I.from("profiles").select("*").eq("id",e.id).single();p?p.code==="PGRST116"?await g(e.id):console.error("Error getting user profile:",p):m&&h(m)}catch(m){console.error("Unexpected error in getUserProfile:",m)}})()},[e.id]);const g=async x=>{try{const{error:m}=await I.from("profiles").insert([{id:x,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);m?console.error("Error creating initial profile:",m):h({id:x,is_donor:!1})}catch(m){console.error("Unexpected error in createInitialProfile:",m)}},w=async()=>{if(!r){alert("Please select a blood type");return}d(!0);try{const{data:x,error:m}=await I.from("profiles").select("*").eq("is_donor",!0).eq("blood_type",r);if(m)console.error("Error searching for donors:",m),alert("Failed to search for donors. Please try again.");else if(x){const p=x.map(v=>({id:v.id,name:v.full_name||"Anonymous Donor",bloodType:v.blood_type,location:v.address||"Location not specified",distance:"< 5 km",lastDonation:v.last_donation?new Date(v.last_donation).toLocaleDateString():"No donations yet",phone:v.phone||"Contact through app"}));a(p)}}catch(x){console.error("Error in donor search:",x),alert("An unexpected error occurred. Please try again.")}finally{d(!1)}},y=()=>{n("find")};return c.jsxs("div",{className:"max-w-lg mx-auto pb-20",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Blood Donation"}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6 overflow-hidden",children:[c.jsxs("div",{className:"flex border-b border-gray-200",children:[c.jsxs("button",{className:`flex-1 py-3 font-medium ${t==="find"?"bg-red-600 text-white":"bg-white text-gray-700"}`,onClick:()=>n("find"),children:[c.jsx(Vg,{size:16,className:"inline mr-2"}),"Find Donors"]}),c.jsxs("button",{className:`flex-1 py-3 font-medium ${t==="request"?"bg-red-600 text-white":"bg-white text-gray-700"}`,onClick:()=>n("request"),children:[c.jsx(Ql,{size:16,className:"inline mr-2"}),"Request Blood"]})]}),t==="find"?c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Blood Type"}),c.jsxs("select",{value:r,onChange:x=>s(x.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"",children:"Select Blood Type"}),c.jsx("option",{value:"A+",children:"A+"}),c.jsx("option",{value:"A-",children:"A-"}),c.jsx("option",{value:"B+",children:"B+"}),c.jsx("option",{value:"B-",children:"B-"}),c.jsx("option",{value:"AB+",children:"AB+"}),c.jsx("option",{value:"AB-",children:"AB-"}),c.jsx("option",{value:"O+",children:"O+"}),c.jsx("option",{value:"O-",children:"O-"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Distance"}),c.jsxs("select",{value:i,onChange:x=>o(x.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"5",children:"Within 5 km"}),c.jsx("option",{value:"10",children:"Within 10 km"}),c.jsx("option",{value:"25",children:"Within 25 km"}),c.jsx("option",{value:"50",children:"Within 50 km"})]})]}),c.jsx("button",{onClick:w,disabled:u,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:ring-4 focus:ring-red-300 disabled:opacity-50",children:u?"Searching...":"Search for Donors"})]}):c.jsx(Xg,{userId:e.id,onRequestSubmitted:y})]}),t==="find"&&l.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Available Donors"}),l.map(x=>c.jsx(Yg,{donor:x},x.id))]}),t==="find"&&l.length===0&&r&&!u&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Tt,{className:"h-5 w-5 text-yellow-400"})}),c.jsx("div",{className:"ml-3",children:c.jsxs("p",{className:"text-sm text-yellow-700",children:["No donors found for ",r," blood type in your area. Please try expanding your search distance or check back later."]})})]})}),t==="find"&&f&&!f.is_donor&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded mt-6",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Tt,{className:"h-5 w-5 text-red-400"})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-red-700",children:"You are not registered as a blood donor. Go to Profile to register as a donor and help save lives."})})]})})]})},e0=({notification:e,onMarkAsRead:t})=>{const n=s=>new Date(s).toLocaleString(),r=()=>{switch(e.type){case"emergency":return c.jsx(Tt,{size:20,className:"text-red-600"});case"blood":return c.jsx(Ql,{size:20,className:"text-red-600"});case"system":return c.jsx(Mg,{size:20,className:"text-blue-600"});default:return c.jsx(Tt,{size:20,className:"text-red-600"})}};return c.jsx("div",{className:`bg-white rounded-lg shadow-md p-4 mb-4 border-l-4 ${e.status==="new"?"border-red-600":"border-gray-300"}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"mr-3 mt-1",children:r()}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-800",children:e.title}),c.jsx("p",{className:"text-gray-600 mt-1",children:e.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n(e.createdAt)})]})]}),e.status==="new"&&c.jsx("button",{onClick:()=>t(e.id),className:"text-gray-500 hover:text-gray-700",children:c.jsx(Wg,{size:20})})]})})},t0=({user:e})=>{const[t,n]=P.useState([]),[r,s]=P.useState(!0);P.useEffect(()=>{(async()=>{const{data:a,error:u}=await I.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});u?console.error("Error getting notifications:",u):a&&n(a.map(d=>({id:d.id,type:d.type,title:d.title,message:d.message,status:d.status,createdAt:d.created_at}))),s(!1)})();const l=I.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},a=>{const u={id:a.new.id,type:a.new.type,title:a.new.title,message:a.new.message,status:a.new.status,createdAt:a.new.created_at};n(d=>[u,...d])}).subscribe();return()=>{l.unsubscribe()}},[e.id]);const i=async o=>{const{error:l}=await I.from("notifications").update({status:"read"}).eq("id",o);l?console.error("Error marking notification as read:",l):n(a=>a.map(u=>u.id===o?{...u,status:"read"}:u))};return P.useEffect(()=>{if(!r&&t.length===0){const o=[{id:"1",type:"emergency",title:"Emergency Alert",message:"Your emergency alert has been received. Help is on the way.",status:"new",createdAt:new Date().toISOString()},{id:"2",type:"blood",title:"Blood Donation Request",message:"A nearby hospital is in urgent need of O+ blood type. Can you help?",status:"new",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"3",type:"system",title:"Profile Updated",message:"Your donor profile has been successfully updated.",status:"read",createdAt:new Date(Date.now()-864e5).toISOString()}];n(o)}},[r,t.length]),c.jsxs("div",{className:"max-w-lg mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Notifications"}),r?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-600"})}):t.length>0?c.jsx("div",{children:t.map(o=>c.jsx(e0,{notification:o,onMarkAsRead:i},o.id))}):c.jsx("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:c.jsx("p",{className:"text-gray-600",children:"You don't have any notifications yet."})})]})},n0=({user:e})=>{const[t,n]=P.useState([]),[r,s]=P.useState({name:"",phone:""}),[i,o]=P.useState({emergencyAlerts:!0,bloodRequests:!0,systemUpdates:!0,emailNotifications:!0,pushNotifications:!0}),[l,a]=P.useState(!0);P.useEffect(()=>{const g=async()=>{try{const{data:y,error:x}=await I.from("emergency_contacts").select("*").eq("user_id",e.id);x?console.error("Error getting emergency contacts:",x):y&&n(y)}catch(y){console.error("Unexpected error in getEmergencyContacts:",y)}},w=async()=>{try{const{data:y,error:x}=await I.from("notification_settings").select("*").eq("user_id",e.id).single();x?x.code==="PGRST116"?await u(e.id):console.error("Error getting notification settings:",x):y&&o({emergencyAlerts:y.emergency_alerts,bloodRequests:y.blood_requests,systemUpdates:y.system_updates,emailNotifications:y.email_notifications,pushNotifications:y.push_notifications})}catch(y){console.error("Unexpected error in getNotificationSettings:",y)}finally{a(!1)}};g(),w()},[e.id]);const u=async g=>{try{const{error:w}=await I.from("notification_settings").insert([{user_id:g,updated_at:new Date().toISOString()}]);w&&w.code!=="23505"&&console.error("Error creating default notification settings:",w)}catch(w){console.error("Unexpected error in createDefaultNotificationSettings:",w)}},d=async()=>{if(!r.name||!r.phone){alert("Please enter both name and phone number");return}try{const{data:g,error:w}=await I.from("emergency_contacts").insert([{user_id:e.id,name:r.name,phone:r.phone}]).select();w?(console.error("Error adding emergency contact:",w),alert("Failed to add emergency contact. Please try again.")):g&&(n([...t,g[0]]),s({name:"",phone:""}))}catch(g){console.error("Error in add contact:",g),alert("An unexpected error occurred. Please try again.")}},f=async g=>{try{const{error:w}=await I.from("emergency_contacts").delete().eq("id",g);w?(console.error("Error deleting emergency contact:",w),alert("Failed to delete emergency contact. Please try again.")):n(t.filter(y=>y.id!==g))}catch(w){console.error("Error in delete contact:",w),alert("An unexpected error occurred. Please try again.")}},h=async(g,w)=>{const y={...i,[g]:w};o(y);try{const x={emergency_alerts:y.emergencyAlerts,blood_requests:y.bloodRequests,system_updates:y.systemUpdates,email_notifications:y.emailNotifications,push_notifications:y.pushNotifications},{error:m}=await I.from("notification_settings").update(x).eq("user_id",e.id);m&&(console.error("Error updating notification settings:",m),alert("Failed to update notification settings. Please try again."))}catch(x){console.error("Error in update notification settings:",x),alert("An unexpected error occurred. Please try again.")}};return c.jsxs("div",{className:"max-w-lg mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Settings"}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Emergency Contacts"}),l?c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-red-600"})}):c.jsxs(c.Fragment,{children:[t.length>0?c.jsx("div",{className:"mb-6",children:t.map(g=>c.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200 last:border-b-0",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:g.name}),c.jsx("p",{className:"text-gray-600",children:g.phone})]}),c.jsx("button",{onClick:()=>f(g.id),className:"text-red-600 hover:text-red-800",children:"Remove"})]},g.id))}):c.jsx("p",{className:"text-gray-600 mb-4",children:"No emergency contacts added yet."}),c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsx("h3",{className:"font-medium mb-3",children:"Add New Contact"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("input",{type:"text",value:r.name,onChange:g=>s({...r,name:g.target.value}),placeholder:"Contact Name",className:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-red-500"}),c.jsx("input",{type:"tel",value:r.phone,onChange:g=>s({...r,phone:g.target.value}),placeholder:"Phone Number",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),c.jsx("button",{onClick:d,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-300",children:"Add Contact"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notification Settings"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-medium mb-3",children:"Alert Types"}),c.jsx("div",{className:"mb-3",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:i.emergencyAlerts,onChange:g=>h("emergencyAlerts",g.target.checked),className:"mr-3"}),c.jsx("span",{children:"Emergency Alerts"})]})}),c.jsx("div",{className:"mb-3",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:i.bloodRequests,onChange:g=>h("bloodRequests",g.target.checked),className:"mr-3"}),c.jsx("span",{children:"Blood Donation Requests"})]})}),c.jsx("div",{className:"mb-3",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:i.systemUpdates,onChange:g=>h("systemUpdates",g.target.checked),className:"mr-3"}),c.jsx("span",{children:"System Updates"})]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium mb-3",children:"Notification Methods"}),c.jsx("div",{className:"mb-3",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:i.emailNotifications,onChange:g=>h("emailNotifications",g.target.checked),className:"mr-3"}),c.jsx("span",{children:"Email Notifications"})]})}),c.jsx("div",{className:"mb-3",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:i.pushNotifications,onChange:g=>h("pushNotifications",g.target.checked),className:"mr-3"}),c.jsx("span",{children:"Push Notifications"})]})})]})]})]})},r0=({user:e,setSession:t})=>{const[n,r]=P.useState({fullName:"",phone:"",address:"",bloodType:"",isDonor:!1,lastDonation:"",medicalConditions:""}),[s,i]=P.useState(!0),[o,l]=P.useState(!1);P.useEffect(()=>{(async()=>{try{const{data:h,error:g}=await I.from("profiles").select("*").eq("id",e.id).single();g?g.code==="PGRST116"?await a(e.id):console.error("Error getting user profile:",g):h&&r({fullName:h.full_name||"",phone:h.phone||"",address:h.address||"",bloodType:h.blood_type||"",isDonor:h.is_donor||!1,lastDonation:h.last_donation||"",medicalConditions:h.medical_conditions||""})}catch(h){console.error("Unexpected error in getUserProfile:",h)}finally{i(!1)}})()},[e.id]);const a=async f=>{try{const{error:h}=await I.from("profiles").insert([{id:f,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);h&&console.error("Error creating initial profile:",h)}catch(h){console.error("Unexpected error in createInitialProfile:",h)}},u=async()=>{l(!0);try{const{error:f}=await I.from("profiles").upsert([{id:e.id,full_name:n.fullName,phone:n.phone,address:n.address,blood_type:n.bloodType,is_donor:n.isDonor,last_donation:n.lastDonation,medical_conditions:n.medicalConditions,updated_at:new Date().toISOString()}]);f?(console.error("Error updating profile:",f),alert("Failed to update profile. Please try again.")):alert("Profile updated successfully!")}catch(f){console.error("Error in update profile:",f),alert("An unexpected error occurred. Please try again.")}finally{l(!1)}},d=async()=>{const{error:f}=await I.auth.signOut();f?console.error("Error signing out:",f):t(null)};return s?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-600"})}):c.jsxs("div",{className:"max-w-lg mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Profile"}),c.jsxs("button",{onClick:d,className:"flex items-center text-red-600 hover:text-red-800",children:[c.jsx(Bg,{size:18,className:"mr-1"}),"Sign Out"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-red-100 p-4 rounded-full mr-4",children:c.jsx(ef,{size:32,className:"text-red-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Email"}),c.jsx("p",{className:"font-medium",children:e.email})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),c.jsx("input",{type:"text",value:n.fullName,onChange:f=>r({...n,fullName:f.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),c.jsx("input",{type:"tel",value:n.phone,onChange:f=>r({...n,phone:f.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Address"}),c.jsx("input",{type:"text",value:n.address,onChange:f=>r({...n,address:f.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Blood Donation Information"}),c.jsx("div",{className:"mb-4",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:n.isDonor,onChange:f=>r({...n,isDonor:f.target.checked}),className:"mr-3"}),c.jsx("span",{className:"font-medium",children:"Register as Blood Donor"})]})}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Blood Type"}),c.jsxs("select",{value:n.bloodType,onChange:f=>r({...n,bloodType:f.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"",children:"Select Blood Type"}),c.jsx("option",{value:"A+",children:"A+"}),c.jsx("option",{value:"A-",children:"A-"}),c.jsx("option",{value:"B+",children:"B+"}),c.jsx("option",{value:"B-",children:"B-"}),c.jsx("option",{value:"AB+",children:"AB+"}),c.jsx("option",{value:"AB-",children:"AB-"}),c.jsx("option",{value:"O+",children:"O+"}),c.jsx("option",{value:"O-",children:"O-"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Last Donation Date"}),c.jsx("input",{type:"date",value:n.lastDonation,onChange:f=>r({...n,lastDonation:f.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Medical Conditions"}),c.jsx("textarea",{value:n.medicalConditions,onChange:f=>r({...n,medicalConditions:f.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",rows:3,placeholder:"List any medical conditions that might affect blood donation"})]}),c.jsx("button",{onClick:u,disabled:o,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:ring-4 focus:ring-red-300 disabled:opacity-50",children:o?"Updating...":"Update Profile"})]})]})},s0=({onRegisterClick:e,setSession:t})=>{const[n,r]=P.useState(""),[s,i]=P.useState(""),[o,l]=P.useState(!1),[a,u]=P.useState(""),d=async f=>{if(f.preventDefault(),!n||!s){u("Please enter both email and password");return}l(!0),u("");try{const{data:h,error:g}=await I.auth.signInWithPassword({email:n,password:s});g?u(g.message):h.session&&t(h.session)}catch(h){u("An unexpected error occurred. Please try again."),console.error("Login error:",h)}finally{l(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(Tt,{size:48,className:"text-red-600"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"EMERGENCAHEAD"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Emergency Response & Blood Donation"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign In"}),a&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:c.jsx("p",{className:"text-red-700",children:a})}),c.jsxs("form",{onSubmit:d,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email"}),c.jsx("input",{type:"email",value:n,onChange:f=>r(f.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),c.jsx("input",{type:"password",value:s,onChange:f=>i(f.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter your password",required:!0})]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:ring-4 focus:ring-red-300 disabled:opacity-50",children:o?"Signing In...":"Sign In"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",c.jsx("button",{onClick:e,className:"text-red-600 hover:text-red-800 font-medium",children:"Register"})]})})]})]})})},i0=({onLoginClick:e,setSession:t})=>{const[n,r]=P.useState(""),[s,i]=P.useState(""),[o,l]=P.useState(""),[a,u]=P.useState(!1),[d,f]=P.useState(""),h=async g=>{var w;if(g.preventDefault(),!n||!s||!o){f("Please fill in all fields");return}if(s!==o){f("Passwords do not match");return}if(s.length<6){f("Password must be at least 6 characters");return}u(!0),f("");try{const{data:y,error:x}=await I.auth.signUp({email:n,password:s});if(x)f(x.message);else if(y.session){const m=(w=y.user)==null?void 0:w.id;m&&(await I.from("profiles").insert([{id:m,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]),await I.from("notification_settings").insert([{user_id:m,updated_at:new Date().toISOString()}])),t(y.session)}else alert("Registration successful! Please check your email for confirmation."),e()}catch(y){f("An unexpected error occurred. Please try again."),console.error("Registration error:",y)}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(Tt,{size:48,className:"text-red-600"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"EMERGENCAHEAD"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Emergency Response & Blood Donation"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Account"}),d&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:c.jsx("p",{className:"text-red-700",children:d})}),c.jsxs("form",{onSubmit:h,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email"}),c.jsx("input",{type:"email",value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),c.jsx("input",{type:"password",value:s,onChange:g=>i(g.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Create a password",required:!0})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Confirm Password"}),c.jsx("input",{type:"password",value:o,onChange:g=>l(g.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Confirm your password",required:!0})]}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:ring-4 focus:ring-red-300 disabled:opacity-50",children:a?"Creating Account...":"Create Account"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",c.jsx("button",{onClick:e,className:"text-red-600 hover:text-red-800 font-medium",children:"Sign In"})]})})]})]})})},o0="https://oxnmnqqrcabgefofwasy.supabase.co",l0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94bm1ucXFyY2FiZ2Vmb2Z3YXN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDExMTU1OTIsImV4cCI6MjA1NjY5MTU5Mn0.3zk3dfLn-uBjdG1zKRx-aT3Af5IMSYMoSk_qLxoPy4c",I=Ig(o0,l0);function a0(){const[e,t]=P.useState(null),[n,r]=P.useState("home"),[s,i]=P.useState(!0);return P.useEffect(()=>{I.auth.getSession().then(({data:{session:l}})=>{t(l),i(!1)});const{data:{subscription:o}}=I.auth.onAuthStateChange(async(l,a)=>{if(t(a),a&&l==="SIGNED_IN")try{const{data:u,error:d}=await I.from("profiles").select("id").eq("id",a.user.id).single();d&&d.code==="PGRST116"&&await I.from("profiles").insert([{id:a.user.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);const{data:f,error:h}=await I.from("notification_settings").select("id").eq("user_id",a.user.id).single();h&&h.code==="PGRST116"&&await I.from("notification_settings").insert([{user_id:a.user.id,updated_at:new Date().toISOString()}])}catch(u){console.error("Error setting up user data:",u)}});return()=>o.unsubscribe()},[]),s?c.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):e?c.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[c.jsx(Kg,{}),c.jsxs("main",{className:"flex-1 container mx-auto px-4 py-6 pb-24",children:[n==="home"&&c.jsx(Jg,{user:e.user}),n==="blood"&&c.jsx(Zg,{user:e.user}),n==="notifications"&&c.jsx(t0,{user:e.user}),n==="settings"&&c.jsx(n0,{user:e.user}),n==="profile"&&c.jsx(r0,{user:e.user,setSession:t})]}),c.jsx("nav",{className:"bg-white border-t border-gray-200 fixed bottom-0 w-full",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex justify-between py-3",children:[c.jsxs("button",{onClick:()=>r("home"),className:`flex flex-col items-center ${n==="home"?"text-red-600":"text-gray-500"}`,children:[c.jsx(Tt,{size:24}),c.jsx("span",{className:"text-xs mt-1",children:"Emergency"})]}),c.jsxs("button",{onClick:()=>r("blood"),className:`flex flex-col items-center ${n==="blood"?"text-red-600":"text-gray-500"}`,children:[c.jsx(Ql,{size:24}),c.jsx("span",{className:"text-xs mt-1",children:"Blood"})]}),c.jsxs("button",{onClick:()=>r("notifications"),className:`flex flex-col items-center ${n==="notifications"?"text-red-600":"text-gray-500"}`,children:[c.jsx(zg,{size:24}),c.jsx("span",{className:"text-xs mt-1",children:"Alerts"})]}),c.jsxs("button",{onClick:()=>r("settings"),className:`flex flex-col items-center ${n==="settings"?"text-red-600":"text-gray-500"}`,children:[c.jsx(qg,{size:24}),c.jsx("span",{className:"text-xs mt-1",children:"Settings"})]}),c.jsxs("button",{onClick:()=>r("profile"),className:`flex flex-col items-center ${n==="profile"?"text-red-600":"text-gray-500"}`,children:[c.jsx(ef,{size:24}),c.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})]})})})]}):c.jsx("div",{className:"min-h-screen bg-white",children:n==="login"?c.jsx(s0,{onRegisterClick:()=>r("register"),setSession:t}):c.jsx(i0,{onLoginClick:()=>r("login"),setSession:t})})}Td(document.getElementById("root")).render(c.jsx(P.StrictMode,{children:c.jsx(a0,{})}));export{u0 as g};
